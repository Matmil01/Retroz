import{b as _,nj as r,np as C,nx as z,re as F,tC as H,tG as N,tX as O,tg as T,tn as j,v as S}from"./runtime-core.esm-bundler-Ca9eACeg.min.js";import{A as k,T as A,W as q,t as $,v as X,x as I,y as J}from"./Button-B6tnd5h6.min.js";import{_ as K,f as Q}from"./core-CuG4XPOF.min.js";import{G as U}from"./Tooltip-zde4fm_B.min.js";const[w,V]=U("DashboardGroup"),Y=(p,v={},{collapsed:s=z(!1)}={})=>{let t=z(null),e=S(()=>({side:"left",minSize:0,maxSize:100,defaultSize:0,storage:"cookie",persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,unit:"%",...C(v)?v.value:v})),{dir:b}=k(),E={size:e.value.defaultSize,collapsed:r(s)??!1},n=e.value.persistent&&(e.value.resizable||e.value.collapsible)?e.value.storage==="cookie"?A(p,{default:()=>E}):Q(p,E):z(E),u=S({get:()=>n.value.collapsed,set:l=>{e.value.collapsible&&(C(s)&&(s.value=l),n.value.collapsed=l)}}),D=z(e.value.defaultSize),g=S({get:()=>n.value.size,set:l=>{n.value.size=l}}),M=S(()=>u.value?e.value.collapsedSize:g.value),x=z(!1),R=(l,a,m)=>{var y;if(!t.value||!e.value.resizable)return;let f=((y=t.value.parentElement)==null?void 0:y.offsetWidth)||1,d=b.value==="rtl",i=d?e.value.side==="left"?a-l.clientX:l.clientX-a:e.value.side==="left"?l.clientX-a:a-l.clientX,o=m+i,c;if(e.value.unit==="rem"){let L=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);c=o/L}else c=e.value.unit==="px"?o:o/f*100;if(e.value.collapsible&&c<e.value.collapsedSize+4){h(!0);return}else u.value&&h(!1);g.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,c))},G=l=>{if(!t.value||!e.value.resizable)return;l.preventDefault(),l.stopPropagation();let a=t.value.getBoundingClientRect().width;if(!a)return;let m=l.clientX,f=a;x.value=!0;let d=o=>{R(o,m,f)},i=()=>{x.value=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",i)},P=(l,a,m)=>{var y;if(!t.value||!e.value.resizable||!l.touches[0])return;let f=((y=t.value.parentElement)==null?void 0:y.offsetWidth)||1,d=b.value==="rtl",i=d?e.value.side==="left"?a-l.touches[0].clientX:l.touches[0].clientX-a:e.value.side==="left"?l.touches[0].clientX-a:a-l.touches[0].clientX,o=m+i,c;if(e.value.unit==="rem"){let L=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);c=o/L}else c=e.value.unit==="px"?o:o/f*100;if(e.value.collapsible&&c<e.value.collapsedSize+4){h(!0);return}else u.value&&h(!1);g.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,c))},W=l=>{if(!t.value||!e.value.resizable||!l.touches[0])return;l.preventDefault(),l.stopPropagation();let a=t.value.getBoundingClientRect().width;if(!a)return;let m=l.touches[0].clientX,f=a;x.value=!0;let d=o=>{P(o,m,f)},i=()=>{x.value=!1,document.removeEventListener("touchmove",d),document.removeEventListener("touchend",i),document.removeEventListener("touchcancel",i)};document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",i),document.addEventListener("touchcancel",i)},B=l=>{!t.value||!e.value.resizable||(l.preventDefault(),l.stopPropagation(),u.value&&h(!1),g.value=e.value.defaultSize)},h=l=>{if(!e.value.collapsible)return;let a=l??!u.value;a&&!u.value?D.value=g.value:!a&&u.value&&(g.value=D.value),u.value=a};return C(s)&&n.value.collapsed&&(s.value=n.value.collapsed),C(s)&&N(s,l=>{e.value.collapsible&&n.value.collapsed!==l&&(n.value.collapsed=l)}),{el:t,size:M,isDragging:x,isCollapsed:u,onMouseDown:G,onTouchStart:W,onDoubleClick:B,collapse:h}};var Z={base:"hidden lg:block touch-none select-none cursor-ew-resize relative before:absolute before:inset-y-0 before:-left-1.5 before:-right-1.5"},ee={__name:"DashboardResizeHandle",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(p){let v=p,s=q(),t=S(()=>{var e;return X({extend:X(Z),...((e=s.ui)==null?void 0:e.dashboardResizeHandle)||{}})});return(e,b)=>(T(),_(r(J),{as:p.as,role:"separator",class:F(t.value({class:v.class}))},{default:O(()=>[H(e.$slots,"default")]),_:3},8,["as","class"]))}},le={base:"lg:hidden",variants:{side:{left:"",right:""}}},ae={__name:"DashboardSidebarToggle",props:{side:{type:String,required:!1,default:"left"},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"ghost"},class:{type:null,required:!1}},setup(p){let v=p,s=I(K(v,"color","variant","size")),{t}=k(),e=q(),{sidebarOpen:b,toggleSidebar:E}=w({sidebarOpen:z(!1),toggleSidebar:()=>{}}),n=S(()=>{var u;return X({extend:X(le),...((u=e.ui)==null?void 0:u.dashboardSidebarToggle)||{}})});return(u,D)=>(T(),_($,j(r(s),{"aria-label":r(b)?r(t)("dashboardSidebarToggle.close"):r(t)("dashboardSidebarToggle.open"),icon:r(b)?r(e).ui.icons.close:r(e).ui.icons.menu,class:n.value({class:v.class,side:v.side}),onClick:r(E)}),null,16,["aria-label","icon","class","onClick"]))}};export{w as a,V as i,ee as n,Y as r,ae as t};
