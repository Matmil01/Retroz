import{s as E}from"./chunk-BP1tGd43.min.js";import"./dist-C_ABUlOQ.min.js";import{O as u,S as e,b as y,j as R,k as r,nj as n,nx as D,ri as c,s as d,tG as G,tS as h,tX as i,tg as a,tr as N,x as k,y as o}from"./runtime-core.esm-bundler-Ca9eACeg.min.js";import"./vue.runtime.esm-bundler-B7l4RX9R.min.js";import{t as O}from"./Button-B6tnd5h6.min.js";import{n as U}from"./log-BwehX2sj.js";import"./core-CuG4XPOF.min.js";import"./vue-router-DDJE2Uyj.min.js";import{n as Y,t as j}from"./Tooltip-zde4fm_B.min.js";import"./namespaced-B_NM0idY.min.js";import"./usePrimitiveElement-B0TMSs0k.min.js";import"./floating-ui.core-BwRAMOlv.min.js";import"./DashboardSidebarToggle-CgLKr-bb.min.js";import{t as I}from"./Popover-BV2_BUAA.min.js";import"./index.browser-L__kdN7m.min.js";import{n as A,t as B}from"./DashboardNavbar-CXpkMk1P.min.js";import{t as F}from"./DashboardSidebarCollapse-rFgYlhRS.min.js";import{t as W}from"./dayjs.min-BAjIZEkX.min.js";var b=E(W()),q={class:"whitespace-nowrap logs-container"},z={class:"flex flex-col gap-4 sm:gap-6 lg:gap-12 mx-auto"},P={key:0,role:"group",class:"flex flex-col"},V=["title"],X={class:"hidden group-hover:inline-block"},J={class:"mr-4"},K={key:0,class:"text-(--ui-error)"},Q={key:1,class:"text-(--ui-warning)"},Z={key:2,class:"text-(--ui-info)"},$={key:3,class:"text-(--ui-success)"},tt={key:4,class:""},at=["innerHTML"],et={class:"p-6 max-w-[800px] max-h-[400px] overflow-auto"},st={class:"gap-2 flex flex-wrap"},lt={class:""},it=["innerHTML"],ot=R({__name:"Log",setup(rt){let p=U(),s=D(null);return G(p.logs,()=>{if(!s.value){let l=document.querySelector(".logs-container");if(l)s.value=l.parentElement;else return}let m=s.value&&s.value.scrollHeight-s.value.clientHeight<=s.value.scrollTop+1;N(()=>{m&&s.value&&(s.value.scrollTop=s.value.scrollHeight-s.value.clientHeight)})}),(m,l)=>{let _=F,w=O,H=j,S=B,T=Y,L=I,M=A;return a(),y(M,{id:"logs",ui:{root:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]",body:"bg-(--ui-text) text-(--ui-bg) dark:text-(--ui-text) dark:bg-(--ui-bg)"}},{header:i(()=>[r(S,{title:m.i18n.__("Logs","windpress")},{leading:i(()=>[r(_)]),right:i(()=>[r(H,{text:m.i18n.__("Clear logs","windpress")},{default:i(()=>[r(w,{icon:"lucide:paintbrush",color:"neutral",variant:"ghost",onClick:l[0]||(l[0]=t=>n(p).clear())})]),_:1},8,["text"])]),_:1},8,["title"])]),body:i(()=>[o("div",q,[o("div",z,[n(p).logs.length>0?(a(),e("div",P,[(a(!0),e(d,null,h(n(p).logs,t=>{var g,f,x;return a(),e("div",{key:t.id,class:"font-mono"},[o("span",{title:t.id,class:"text-(--ui-bg)/50 dark:text-(--ui-text)/50 group"},[l[1]||(l[1]=u("[",-1)),o("span",X,c(n(b.default)(t.timestamp).format("YYYY/MM/DD_")),1),u(c(n(b.default)(t.timestamp).format("HH:mm:ss.SSS"))+"]",1)],8,V),o("span",J,[t.type==="error"?(a(),e("span",K,"[ERROR]")):t.type==="warning"?(a(),e("span",Q,"[WARNING]")):t.type==="info"?(a(),e("span",Z,"[INFO]")):t.type==="success"?(a(),e("span",$,"[SUCCESS]")):t.type==="debug"?(a(),e("span",tt,"[DEBUG]")):k("",!0)]),(g=t.options)!=null&&g.raw?(a(),e(d,{key:0},[(f=t.options)!=null&&f.candidates&&((x=t.options)==null?void 0:x.candidates.length)>0?(a(),y(L,{key:0,mode:"hover"},{content:i(()=>{var v;return[o("div",et,[o("div",st,[(a(!0),e(d,null,h((v=t.options)==null?void 0:v.candidates,C=>(a(),e("div",lt,[r(T,{color:"neutral",variant:"outline"},{default:i(()=>[u(c(C),1)]),_:2},1024)]))),256))])])]}),default:i(()=>[o("span",{innerHTML:t.message},null,8,at)]),_:2},1024)):(a(),e("span",{key:1,innerHTML:t.message},null,8,it))],64)):(a(),e(d,{key:1},[u(c(t.message),1)],64))])}),128))])):k("",!0)])])]),_:1})}}});export{ot as default};
