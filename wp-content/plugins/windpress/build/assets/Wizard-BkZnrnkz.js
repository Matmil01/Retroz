import"./dist-C_ABUlOQ.min.js";import{O,S as W,b as S,j as T,k as o,nj as y,nx as z,ri as w,s as G,tX as d,ta as K,tg as _,tv as U,tw as D,v as q,y as f}from"./runtime-core.esm-bundler-Ca9eACeg.min.js";import"./vue.runtime.esm-bundler-B7l4RX9R.min.js";import"./dist-BRFYlgNW.min.js";import{_ as F,n as J,t as R}from"./Button-B6tnd5h6.min.js";import"./log-BwehX2sj.js";import"./core-CuG4XPOF.min.js";import{i as V,o as X}from"./vue-router-DDJE2Uyj.min.js";import{t as B}from"./Tooltip-zde4fm_B.min.js";import"./namespaced-B_NM0idY.min.js";import"./nullish-1HsFcMvp.min.js";import{t as H}from"./NavigationMenu-DP3_WjoE.min.js";import"./usePrimitiveElement-B0TMSs0k.min.js";import"./useOverlay-B6IppYWD.min.js";import"./floating-ui.core-BwRAMOlv.min.js";import"./Label-BYwosbTN.min.js";import"./useToast-DNBmJq55.min.js";import"./DashboardSidebarToggle-CgLKr-bb.min.js";import"./Modal-LNGkPIgk.min.js";import"./Popover-BV2_BUAA.min.js";import"./api-j1hi8yn9.js";import"./index.browser-L__kdN7m.min.js";import{t as Q}from"./settings-DtACJkyx.js";import"./isObject-BwTgHO42.min.js";import"./_toKey-BLmsLsy5.min.js";import"./_initCloneObject-Cm0YirQr.min.js";import"./set-Cqd4I9bq.min.js";import"./get-BfBXFw95.min.js";import{r as Y,t as Z}from"./useFileAction-wutfzXsw.js";import"./virtualRef-CYpkks3b.js";import"./Input-CZFwhgLF.min.js";import"./preload-helper-hRiy8xQv.min.js";import"./base64-DC2Lnao2.min.js";import"./dist-BuaPZvPo.min.js";import"./lib-Bhom85nO.min.js";import"./dist-Bc3DqNCA.min.js";import"./path-browserify-BdtUGfkV.min.js";import"./vfs-Cd6bW2_1.js";import{n as ee,t as N}from"./adobe-css-tools-Cq8Zs2rG.min.js";import"./dist-Bm-lj0eb.min.js";import{n as E,t as te}from"./DashboardNavbar-CXpkMk1P.min.js";import{t as ie}from"./DashboardSidebarCollapse-rFgYlhRS.min.js";import"./dayjs.min-BAjIZEkX.min.js";import"./FormField-vMZGxLGG.min.js";var I={color:{supportsNesting:!0},text:{supportsNesting:!0},font:{supportsNesting:!0,excludePatterns:["weight"]},spacing:{supportsNesting:!0},breakpoint:{supportsNesting:!0}},p={INITIAL_MARKER:"--*",SPACING_MULTIPLIER:"--spacing"};function L(r,i,s){let t=r;for(let n=0;n<i.length-1;n++){let a=i[n];t[a]?typeof t[a]=="string"&&(t[a]={$value:t[a]}):t[a]={},t=t[a]}let e=i[i.length-1];t[e]&&typeof t[e]=="object"&&t[e].$value===void 0||t[e]&&typeof t[e]=="object"&&t[e].$value!==void 0?t[e].$value=s:t[e]=s}function g(r,i){let s=[];for(let[t,e]of Object.entries(r))if(typeof e=="string")e&&e.trim()!==""&&s.push({property:`--${i}-${t}`,value:e});else if(typeof e=="object"&&e){let n=e;if("$value"in n&&typeof n.$value=="string"){n.$value&&n.$value.trim()!==""&&s.push({property:`--${i}-${t}`,value:n.$value});let a={...n};if(delete a.$value,Object.keys(a).length>0){let l=g(a,`${i}-${t}`);s.push(...l)}}else{let a=g(e,`${i}-${t}`);s.push(...a)}}return s}function h(r,i,s){let t=r.findIndex(e=>e.property===i);if(!s||s.trim()===""){t!==-1&&r.splice(t,1);return}t===-1?r.push({type:"declaration",property:i,value:s}):r[t].value=s}function re(r,i){var t;let s=I[r];return!s||!("excludePatterns"in s)?!1:((t=s.excludePatterns)==null?void 0:t.some(e=>i.startsWith(e)))??!1}function P(){return{namespaces:{color:{},text:{},font:{},spacing:{},breakpoint:{}}}}function ae(r){var s;let i=P();i.source=r;try{let t=ee(r);if(i.ast=t,(s=t.stylesheet)==null?void 0:s.rules){for(let e of t.stylesheet.rules)if(e.type==="rule"&&e.selectors){let n=e.selectors.find(a=>a.startsWith("@theme"));if(n){if(n==="@theme static"&&(i.isStatic=!0),e.declarations)for(let a of e.declarations)a.type==="declaration"&&a.property.startsWith("--")&&se(i,a.property,a.value);break}}}}catch(t){console.error("Error parsing CSS:",t)}return i}function se(r,i,s){if(i===p.INITIAL_MARKER&&s==="initial"){r.isInitial=!0;return}if(i===p.SPACING_MULTIPLIER){r.spacing=s;return}let t=i.match(/^--([^-]+)-(.+)$/);if(!t)return;let[,e,n]=t;if(e in I&&!re(e,n))if(e==="breakpoint"){let a=n.split("-");L(r.namespaces.breakpoint,a,s)}else{let a=n.split("-");L(r.namespaces[e],a,s)}}function A(r,i){let{namespaces:s}=r;Object.entries(s).forEach(([t,e])=>{!e||Object.keys(e).length===0||g(e,t).forEach(({property:n,value:a})=>{h(i,n,a)})})}function ne(r){try{return r.ast?le(r):oe(r)}catch(i){return console.error("Error stringifying theme:",i),""}}function le(r){var s;let i=JSON.parse(JSON.stringify(r.ast));if((s=i.stylesheet)!=null&&s.rules){for(let t of i.stylesheet.rules)if(t.type==="rule"&&t.selectors&&t.selectors.find(e=>e.startsWith("@theme"))){t.selectors=[r.isStatic?"@theme static":"@theme"];let e=[...t.declarations||[]];r.isInitial?h(e,p.INITIAL_MARKER,"initial"):h(e,p.INITIAL_MARKER,""),r.spacing?h(e,p.SPACING_MULTIPLIER,r.spacing):h(e,p.SPACING_MULTIPLIER,""),A(r,e);let n=new Set;r.isInitial&&n.add(p.INITIAL_MARKER),r.spacing&&n.add(p.SPACING_MULTIPLIER),Object.entries(r.namespaces).forEach(([a,l])=>{l&&Object.keys(l).length>0&&g(l,a).forEach(({property:v})=>{n.add(v)})}),t.declarations=e.filter(a=>{if(a.type==="declaration"&&(!a.value||a.value.trim()===""))return!1;if(a.type!=="declaration"||!a.property.startsWith("--"))return!0;let l=a.property.match(/^--([^-]+)-/);return l&&l[1]in I?n.has(a.property):n.has(a.property)||!l});break}}return N(i)}function oe(r){let i=[];r.isInitial&&i.push({type:"declaration",property:p.INITIAL_MARKER,value:"initial"}),r.spacing&&i.push({type:"declaration",property:p.SPACING_MULTIPLIER,value:r.spacing}),A(r,i);let s=i.filter(e=>e.value&&e.value.trim()!==""),t={type:"stylesheet",stylesheet:{rules:[{type:"rule",selectors:[r.isStatic?"@theme static":"@theme"],declarations:s}]}};return N(t)}function pe(){return{getDefaultTheme:P,parseWizardFile:ae,stringifyTheme:ne}}var ce={class:"flex flex-col items-center justify-center h-full p-8 text-center"},ue={class:"max-w-md mx-auto"},me={class:"text-2xl font-bold text-highlighted mb-4"},de={class:"text-dimmed mb-6 leading-relaxed"},fe={class:"space-y-4"},he={class:"text-sm text-dimmed"},ve=T({__name:"VersionRequirement",setup(r){return(i,s)=>{let t=F,e=R,n=J,a=E;return _(),S(a,{class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:d(()=>[f("div",ce,[f("div",ue,[o(t,{name:"lucide:info",class:"size-16 text-primary mx-auto mb-6"}),f("h2",me,w(y(wp.i18n.__)("Tailwind CSS v4 Required","windpress")),1),f("p",de,w(y(wp.i18n.__)("The Wizard feature is only available when using Tailwind CSS version 4. Please switch to Tailwind CSS v4 in your settings to access this feature.","windpress")),1),f("div",fe,[o(e,{label:y(wp.i18n.__)("Go to Settings","windpress"),color:"primary",icon:"lucide:settings",to:{name:"settings.general"}},null,8,["label"]),f("div",he,[o(n,{to:"https://wind.press/docs/guide/configuration/tailwind-version",target:"_blank",class:"underline hover:no-underline"},{default:d(()=>[O(w(y(wp.i18n.__)("Learn more about Tailwind version configuration","windpress")),1)]),_:1})])])])])]),_:1})}}}),ye=T({__name:"Wizard",setup(r){let i=Y(),s=Z(),t=pe(),e=X(),n=Q(),a=z(t.getDefaultTheme());U("theme",a);let l=q(()=>n.virtualOptions("general.tailwindcss.version",4).value===4);K(async()=>{var c;if(await Promise.all([i.initPull(),n.initPull()]),l.value){let u=((c=i.data.entries.find(m=>m.relative_path==="wizard.css"))==null?void 0:c.content)||"";u.includes("@theme")||(u+=`
@theme {

}`),a.value=t.parseWizardFile(u)}});function v(){let c=t.stringifyTheme(a.value),u=i.data.entries.find(m=>m.relative_path==="wizard.css");u?u.content=c:i.data.entries.push({name:"wizard.css",relative_path:"wizard.css",content:c,handler:"internal"}),s.save()}let b=z([[{label:wp.i18n.__("Namespaces","windpress"),type:"label"},{label:wp.i18n.__("Screens","windpress"),icon:"lucide:monitor-smartphone",to:e.resolve({name:"wizard.screens"})},{label:wp.i18n.__("Spacing","windpress"),icon:"lucide:align-horizontal-space-around",to:e.resolve({name:"wizard.spacing"})},{label:wp.i18n.__("Typography","windpress"),icon:"lucide:a-large-small",to:e.resolve({name:"wizard.typography"})},{label:wp.i18n.__("Colors","windpress"),icon:"lucide:swatch-book",to:e.resolve({name:"wizard.colors"})}],[{label:wp.i18n.__("Theme Configuration","windpress"),type:"label"},{label:wp.i18n.__("Theme Settings","windpress"),icon:"lucide:settings",to:e.resolve({name:"wizard.theme"})}]]);return V((c,u,m)=>{l.value&&v(),m()}),(c,u)=>{let m=ie,$=R,k=B,j=te,x=H,C=E,M=D("RouterView");return l.value?(_(),W(G,{key:1},[o(C,{id:"wizard-1","default-size":20,"min-size":15,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:d(()=>[o(j,{title:c.i18n.__("Wizard","windpress"),class:"text-sm"},{leading:d(()=>[o(m)]),right:d(()=>[o(k,{text:c.i18n.__("Save the changes to wizard.css file","windpress")},{default:d(()=>[o($,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:v})]),_:1},8,["text"])]),_:1},8,["title"]),o(x,{items:b.value[1],orientation:"vertical",class:"my-2"},null,8,["items"]),o(x,{items:b.value[0],orientation:"vertical"},null,8,["items"])]),_:1}),o(M)],64)):(_(),S(ve,{key:0}))}}});export{ye as default};
