import"./source-map-generator-CTyyJ0I2.min.js";import"./dist-C_ABUlOQ.min.js";import"./runtime-core.esm-bundler-Ca9eACeg.min.js";import"./vue.runtime.esm-bundler-B7l4RX9R.min.js";import"./dist-BRFYlgNW.min.js";import"./log-BwehX2sj.js";import"./chunk-HTB5LLOP-BErhSb2z.min.js";import"./core-CuG4XPOF.min.js";import"./api-j1hi8yn9.js";import{t as I}from"./index.browser-L__kdN7m.min.js";import"./isObject-BwTgHO42.min.js";import"./_toKey-BLmsLsy5.min.js";import"./set-Cqd4I9bq.min.js";import"./get-BfBXFw95.min.js";import"./virtualRef-CYpkks3b.js";import"./preload-helper-hRiy8xQv.min.js";import"./base64-DC2Lnao2.min.js";import"./lib-Bhom85nO.min.js";import"./dist-Bc3DqNCA.min.js";import"./path-browserify-BdtUGfkV.min.js";import"./pre-process-RWgsscQ9.js";import{__tla as M}from"./cssesc-Brw5KDvH.js";import{__tla as O}from"./lightningcss-wasm-6j4Pv-Sn.min.js";import"./build-B3SDJAft.js";import{t as P}from"./vfs-Cd6bW2_1.js";import{c as z,i as T}from"./intellisense-BXfxfrXI.js";import"./adobe-css-tools-Cq8Zs2rG.min.js";import"./dlv.umd-9now9_xM.min.js";import{__tla as W}from"./tailwindcss-DJIKWk4_.js";import{t as S}from"./logger-B3j_KY2M.js";import{n as c,r as q}from"./constant-DAySPcnT.js";Promise.all([(()=>{try{return M}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return W}catch{}})()]).then(async()=>{var u=()=>I("1234567890abcdefghijklmnopqrstuvwxyz",6)();function x(){let r=u();for(;r.match(/^\d/);)r=u();return`windpress${r}`}async function v(){c.$_state.globalVariables=c.$_state.globalVariables.filter(o=>o.category!=="windpress"),c.$_state.globalVariablesCategories.find(o=>o.id==="windpress")||c.$_state.globalVariablesCategories.push({id:"windpress",name:"WindPress"});let r=q.contentWindow.document.querySelector('script#windpress\\:vfs[type="text/plain"]'),a=P(r.textContent);(await T(await z({volume:a}))).forEach(o=>{var s;(s=o.value)!=null&&s.includes("--")||c.$_state.globalVariables.push({id:x(),name:o.key.substring(2),value:o.value,category:"windpress"})})}new BroadcastChannel("windpress").addEventListener("message",async r=>{let a=r.data;a.source==="windpress/intellisense"&&a.task==="windpress.code-editor.saved.done"&&setTimeout(()=>{v()},1e3)}),v();function C(){var _,E,k,L;if(c.$_state.activePanel!=="element"||!((E=(_=c.$_state)==null?void 0:_.activeElement)!=null&&E.id)||!((k=q)!=null&&k.contentWindow))return;let r=document.querySelector(".expand .options-wrapper"),a=r==null?void 0:r.querySelector(".searchable"),o=r==null?void 0:r.querySelector(".dropdown"),s=o==null?void 0:o.querySelectorAll(".variable-picker-item:not(.title)"),i=(L=document.querySelector(".variable-picker-button.open"))==null?void 0:L.previousElementSibling;if(!i||!(s!=null&&s.length)||!r||!o||!a)return;let $=e=>{var t;let n=((t=e.querySelector("span:first-of-type"))==null?void 0:t.textContent)??"";!i||!n||h(w(n))},V=e=>{var t;let n=((t=e.querySelector("span:first-of-type"))==null?void 0:t.textContent)??"";!i||!n||(i.value=w(n),i.click())},j=(e,n)=>{e.forEach(t=>{t.isIntersecting&&!t.target.classList.contains("open")&&t.target.click()})},b=()=>{h(A);let e=i.nextElementSibling;g.observe(e),r.removeEventListener("mouseleave",b)},y=(e,n)=>{e.forEach(t=>{let[p,d]=Object.entries(t)[0]||[];n.insertAdjacentHTML("beforeend",`
                <li class="variable-picker-item">
                    <span>${p}</span>
                    <span class="option-value">${d}</span>
                </li>
            `)}),l.querySelectorAll(".variable-picker-item").forEach(t=>{t.addEventListener("mouseenter",()=>$(t)),t.addEventListener("click",()=>V(t))})},h=e=>{i.value=e,i.dispatchEvent(new Event("input")),i.focus()},w=e=>`var(--${e})`,m=[];o.remove(),s.forEach(e=>{var p,d;let n=((p=e.querySelector("span:first-of-type"))==null?void 0:p.textContent)??"",t=((d=e.querySelector("span.option-value"))==null?void 0:d.textContent)??"";m.push({[n]:t})});let l=document.createElement("ul");l.classList.add("custom-dropdown"),l.setAttribute("style",`
        max-height: calc(32px * 10);
        overflow: hidden;
        overflow-y: auto;
        position: relative;
        scrollbar-color: rgba(0, 0, 0, .4) rgba(0, 0, 0, .2);
        scrollbar-width: thin;
    `),y(m,l),r.appendChild(l),a.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()}),a.addEventListener("input",e=>{let n=m.filter(t=>{var p;return(((p=Object.keys(t)[0])==null?void 0:p.toLowerCase())??"").includes(a.value.toLowerCase())});l.innerHTML="",y(n,l)});let A=(i==null?void 0:i.value)??" ",g=new IntersectionObserver(j,{root:i.parentElement});r.addEventListener("mouseleave",b),g.disconnect()}var f=document.querySelector("#bricks-panel-inner:not(div.bricks-control-popup *)");if(!f)throw S("Inner panel not found, can't initialize preview of variables on hover",{module:"variables",type:"error"}),Error("Inner panel not found, can't initialize preview of variables on hover");new MutationObserver(C).observe(f,{subtree:!0,childList:!0,attributes:!0}),S("Module loaded!",{module:"variables"})});
