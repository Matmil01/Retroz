import{a4 as Lt,a5 as Ct,a2 as rt,a6 as st,i as lt,a7 as It,d as we,C as $t,a3 as $e,a8 as zt,a9 as pe,k as Tt,aa as Ot,ab as Nt,s as ot,ac as Et,ad as Dt,j as ct,_ as dt,a as ut,c as Kt,ae as qt,__tla as Mt}from"./dashboard-CEnqINPm.js";import{_ as mt,a as pt}from"./DashboardNavbar-DXSWh3Yi.min.js";import{_ as Vt}from"./DashboardSidebarCollapse-C_KWklt9.min.js";import{d as Pt,c as At,r as Rt,e as Ft,f as Ut,g as Bt}from"./index-DxctxtAm.min.js";import{u as qe,a as jt,__tla as Wt}from"./useFileAction-Dq9ba1SJ.js";import{_ as Gt}from"./Tree-DwPSID91.min.js";import{ae as gt,$ as ht,Y as Le,M as ie,T as p,R as o,K as h,ad as be,O as oe,L as ge,J as T,aa as ee,P as n,Z as _e,U as ze,V as xe,F as Ce,Q as Te,an as Ht,ab as ft,ai as Me,aj as Ve,I as Pe,E as Ie,w as vt,f as Jt,a8 as Yt,at as Qt,ah as Xt}from"./runtime-core.esm-bundler-DMu1kCtd.min.js";import{p as Ee}from"./index-Cinwu51z.min.js";import{T as bt}from"./runtime-dom.esm-bundler-ByCVmWq5.min.js";import"./index-D0q3SLgE.min.js";import"./index-Bt6bJixh.min.js";import{__tla as Zt}from"./cssesc-arvGvIa0.js";import{__tla as ei}from"./index-B-0OGoK_.min.js";import{n as yt,c as Ae,g as ti,a as ii}from"./intellisense-3Y-PzR_Q.js";import"./redaxios.module-TFmBaLRL.min.js";import{l as xt}from"./design-system-DRogsZpB.js";import{C as Oe}from"./color-475SGCPX.min.js";import{d as Re}from"./debounce-BB-8SLfJ.min.js";import{a as ai}from"./isObject-K1YoVIH1.min.js";import"./preload-helper-DuwVgReH.min.js";import"./index-L8AGAgXa.min.js";import"./source-map-generator-BtPqY3n1.min.js";import{__tla as ni}from"./worker-DDhkXTHJ.js";import"./index.browser-B0na17u1.min.js";import"./index-CA_h055Z.min.js";import"./get-mawGjo0c.min.js";import"./_toKey-BwG29BdO.min.js";import"./chunk-HTB5LLOP-Cay67bh1.min.js";import"./floating-ui.core-D4p8F-F6.min.js";import"./virtualRef-RE6J1pA_.js";import"./set-CZrLKuYB.min.js";import"./_initCloneObject-DhZa6hP3.min.js";import"./package-BtTmAzXr.min.js";import"./fuse-Dw8P0qyA.min.js";import"./vfs-Cwv6plEt.js";import"./dayjs.min-B0xr3lT9.min.js";import"./index-bXyjzgw5.min.js";import"./index-BAMY2Nnw.min.js";import"./index-rQLcFmgX.min.js";import"./FormField-CDGBmCO4.min.js";import"./index-BkiRcEwW.min.js";import"./pre-process-BeX_uj8D.js";import"./adobe-css-tools-Dbp5S5wp.min.js";let wt,ri=Promise.all([(()=>{try{return Mt}catch{}})(),(()=>{try{return Wt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return ei}catch{}})(),(()=>{try{return ni}catch{}})()]).then(async()=>{var _t="Expected a function";function kt(t,D,s){var X=!0,P=!0;if(typeof t!="function")throw new TypeError(_t);return ai(s)&&(X="leading"in s?!0:X,P="trailing"in s?!0:P),Re(t,D,{leading:X,maxWait:D,trailing:P})}let De,Fe,Ue,Be,je,Ke,We,Ge,He,Je,Ye,Qe,Xe,Ze,et,tt,it,at;De={__name:"ContextMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:String,required:!1},loadingIcon:{type:String,required:!1},externalIcon:{type:[Boolean,String],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:D}){const s=t,X=D,P=gt(),{dir:H}=Lt(),U=lt(),Z=Ct(ht(()=>s.portal)),d=rt(Pt(s,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),X),L=st(P,["default"]),[g,m]=At(),J=Le(()=>H.value==="rtl"?U.ui.icons.chevronLeft:U.ui.icons.chevronRight),K=Le(()=>{var u;return(u=s.items)!=null&&u.length?It(s.items)?s.items:[s.items]:[]});return(u,he)=>(p(),ie(Ce,null,[o(n(g),null,{default:h(({item:e,active:l,index:O})=>[be(u.$slots,e.slot||"item",{item:e,index:O},()=>{var B,a,ae,ce,fe,ye;return[be(u.$slots,e.slot?`${e.slot}-leading`:"item-leading",{item:e,active:l,index:O},()=>{var $,C,M,V,q,A,j,r;return[e.loading?(p(),T(we,{key:0,name:t.loadingIcon||n(U).ui.icons.loading,class:ee(t.ui.itemLeadingIcon({class:[($=t.uiOverride)==null?void 0:$.itemLeadingIcon,(C=e.ui)==null?void 0:C.itemLeadingIcon],color:e==null?void 0:e.color,loading:!0}))},null,8,["name","class"])):e.icon?(p(),T(we,{key:1,name:e.icon,class:ee(t.ui.itemLeadingIcon({class:[(M=t.uiOverride)==null?void 0:M.itemLeadingIcon,(V=e.ui)==null?void 0:V.itemLeadingIcon],color:e==null?void 0:e.color,active:l}))},null,8,["name","class"])):e.avatar?(p(),T($t,_e({key:2,size:((q=e.ui)==null?void 0:q.itemLeadingAvatarSize)||((A=t.uiOverride)==null?void 0:A.itemLeadingAvatarSize)||t.ui.itemLeadingAvatarSize()},e.avatar,{class:t.ui.itemLeadingAvatar({class:[(j=t.uiOverride)==null?void 0:j.itemLeadingAvatar,(r=e.ui)==null?void 0:r.itemLeadingAvatar],active:l})}),null,16,["size","class"])):oe("",!0)]}),n($e)(e,s.labelKey)||P[e.slot?`${e.slot}-label`:"item-label"]?(p(),ie("span",{key:0,class:ee(t.ui.itemLabel({class:[(B=t.uiOverride)==null?void 0:B.itemLabel,(a=e.ui)==null?void 0:a.itemLabel],active:l}))},[be(u.$slots,e.slot?`${e.slot}-label`:"item-label",{item:e,active:l,index:O},()=>[ze(xe(n($e)(e,s.labelKey)),1)]),e.target==="_blank"&&t.externalIcon!==!1?(p(),T(we,{key:0,name:typeof t.externalIcon=="string"?t.externalIcon:n(U).ui.icons.external,class:ee(t.ui.itemLabelExternalIcon({class:[(ae=t.uiOverride)==null?void 0:ae.itemLabelExternalIcon,(ce=e.ui)==null?void 0:ce.itemLabelExternalIcon],color:e==null?void 0:e.color,active:l}))},null,8,["name","class"])):oe("",!0)],2)):oe("",!0),ge("span",{class:ee(t.ui.itemTrailing({class:[(fe=t.uiOverride)==null?void 0:fe.itemTrailing,(ye=e.ui)==null?void 0:ye.itemTrailing]}))},[be(u.$slots,e.slot?`${e.slot}-trailing`:"item-trailing",{item:e,active:l,index:O},()=>{var $,C,M,V,q,A;return[($=e.children)!=null&&$.length?(p(),T(we,{key:0,name:J.value,class:ee(t.ui.itemTrailingIcon({class:[(C=t.uiOverride)==null?void 0:C.itemTrailingIcon,(M=e.ui)==null?void 0:M.itemTrailingIcon],color:e==null?void 0:e.color,active:l}))},null,8,["name","class"])):(V=e.kbds)!=null&&V.length?(p(),ie("span",{key:1,class:ee(t.ui.itemTrailingKbds({class:[(q=t.uiOverride)==null?void 0:q.itemTrailingKbds,(A=e.ui)==null?void 0:A.itemTrailingKbds]}))},[(p(!0),ie(Ce,null,Te(e.kbds,(j,r)=>{var i,v;return p(),T(zt,_e({key:r,size:((i=e.ui)==null?void 0:i.itemTrailingKbdsSize)||((v=t.uiOverride)==null?void 0:v.itemTrailingKbdsSize)||t.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof j=="string"?{value:j}:j),null,16,["size"])}),128))],2)):oe("",!0)]}),o(n(pe).ItemIndicator,{"as-child":""},{default:h(()=>{var $,C;return[o(we,{name:t.checkedIcon||n(U).ui.icons.check,class:ee(t.ui.itemTrailingIcon({class:[($=t.uiOverride)==null?void 0:$.itemTrailingIcon,(C=e.ui)==null?void 0:C.itemTrailingIcon],color:e==null?void 0:e.color}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:3}),o(n(pe).Portal,Me(Ve(n(Z))),{default:h(()=>[(p(),T(Ht(t.sub?n(pe).SubContent:n(pe).Content),_e({class:s.class},n(d)),{default:h(()=>{var e;return[be(u.$slots,"content-top"),ge("div",{role:"presentation",class:ee(t.ui.viewport({class:(e=t.uiOverride)==null?void 0:e.viewport}))},[(p(!0),ie(Ce,null,Te(K.value,(l,O)=>{var B;return p(),T(n(pe).Group,{key:`group-${O}`,class:ee(t.ui.group({class:(B=t.uiOverride)==null?void 0:B.group}))},{default:h(()=>[(p(!0),ie(Ce,null,Te(l,(a,ae)=>{var ce,fe,ye,$,C,M,V;return p(),ie(Ce,{key:`group-${O}-${ae}`},[a.type==="label"?(p(),T(n(pe).Label,{key:0,class:ee(t.ui.label({class:[(ce=t.uiOverride)==null?void 0:ce.label,(fe=a.ui)==null?void 0:fe.label,a.class]}))},{default:h(()=>[o(n(m),{item:a,index:ae},null,8,["item","index"])]),_:2},1032,["class"])):a.type==="separator"?(p(),T(n(pe).Separator,{key:1,class:ee(t.ui.separator({class:[(ye=t.uiOverride)==null?void 0:ye.separator,($=a.ui)==null?void 0:$.separator,a.class]}))},null,8,["class"])):(C=a==null?void 0:a.children)!=null&&C.length?(p(),T(n(pe).Sub,{key:2,open:a.open,"default-open":a.defaultOpen},{default:h(()=>{var q,A;return[o(n(pe).SubTrigger,{as:"button",type:"button",disabled:a.disabled,"text-value":n($e)(a,s.labelKey),class:ee(t.ui.item({class:[(q=t.uiOverride)==null?void 0:q.item,(A=a.ui)==null?void 0:A.item,a.class],color:a==null?void 0:a.color}))},{default:h(()=>[o(n(m),{item:a,index:ae},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),o(De,_e({sub:"",class:s.class,ui:t.ui,"ui-override":t.uiOverride,portal:t.portal,items:a.children,"align-offset":-4,"label-key":t.labelKey,"checked-icon":t.checkedIcon,"loading-icon":t.loadingIcon,"external-icon":t.externalIcon},{ref_for:!0},a.content),ft({_:2},[Te(n(L),(j,r)=>({name:r,fn:h(i=>[be(u.$slots,r,_e({ref_for:!0},i))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]}),_:2},1032,["open","default-open"])):a.type==="checkbox"?(p(),T(n(pe).CheckboxItem,{key:3,"model-value":a.checked,disabled:a.disabled,"text-value":n($e)(a,s.labelKey),class:ee(t.ui.item({class:[(M=t.uiOverride)==null?void 0:M.item,(V=a.ui)==null?void 0:V.item,a.class],color:a==null?void 0:a.color})),"onUpdate:modelValue":a.onUpdateChecked,onSelect:a.onSelect},{default:h(()=>[o(n(m),{item:a,index:ae},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(p(),T(n(pe).Item,{key:4,"as-child":"",disabled:a.disabled,"text-value":n($e)(a,s.labelKey),onSelect:a.onSelect},{default:h(()=>[o(Tt,_e({ref_for:!0},n(Ot)(a),{custom:""}),{default:h(({active:q,...A})=>{var j,r;return[o(Nt,_e({ref_for:!0},A,{class:t.ui.item({class:[(j=t.uiOverride)==null?void 0:j.item,(r=a.ui)==null?void 0:r.item,a.class],active:q,color:a==null?void 0:a.color})}),{default:h(()=>[o(n(m),{item:a,active:q,index:ae},null,8,["item","active","index"])]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128))],2),be(u.$slots,"default"),be(u.$slots,"content-bottom")]}),_:3},16,["class"]))]),_:3},16)],64))}},Fe={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-context-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}}],defaultVariants:{size:"md"}},Ue={__name:"ContextMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:String,required:!1},loadingIcon:{type:String,required:!1},externalIcon:{type:[Boolean,String],required:!1,default:!0},content:{type:Object,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:D}){const s=t,X=D,P=gt(),H=lt(),U=rt(Rt(s,"modal"),X),Z=ht(()=>s.content),d=st(P,["default"]),L=Le(()=>{var g;return ot({extend:ot(Fe),...((g=H.ui)==null?void 0:g.contextMenu)||{}})({size:s.size})});return(g,m)=>(p(),T(n(Dt),Me(Ve(n(U))),{default:h(()=>{var J;return[P.default?(p(),T(n(Et),{key:0,"as-child":"",disabled:t.disabled,class:ee(s.class)},{default:h(()=>[be(g.$slots,"default")]),_:3},8,["disabled","class"])):oe("",!0),o(De,_e({class:L.value.content({class:[!P.default&&s.class,(J=s.ui)==null?void 0:J.content]}),ui:L.value,"ui-override":s.ui},Z.value,{items:t.items,portal:t.portal,"label-key":t.labelKey,"checked-icon":t.checkedIcon,"loading-icon":t.loadingIcon,"external-icon":t.externalIcon}),ft({_:2},[Te(n(d),(K,u)=>({name:u,fn:h(he=>[be(g.$slots,u,Me(Ve(he)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]}),_:3},16))}},Be={class:"overflow-y-auto divide-y divide-(--ui-border)"},je={class:"flex items-center gap-1.5 w-full"},Ke=Pe({__name:"FileExplorer",emits:["delete","rename","reset"],setup(t,{emit:D}){const s=qe(),X=ct(),P=D,H=Ie(void 0);vt(H,L=>{s.activeViewEntryRelativePath=(L==null?void 0:L.value)??null});function U(L,g,m){const J=(m?Ee.relative(m,g.relative_path):g.relative_path).split("/"),K=J.shift();if(J.length===0){L.push({label:K,value:g.relative_path,icon:`vscode-icons:file-type-${g.relative_path==="main.css"?"tailwind":Ee.extname(g.relative_path).replace(".","")}`,slot:"tree-file",entry:g});return}let u=L.find(he=>he.label===K);u||(u={label:K,children:[],onSelect:he=>{he.preventDefault()}},L.push(u)),U(u.children||(u.children=[]),g,m?Ee.join(m,K||""):K||"")}const Z=Le(()=>{let L=[];return s.data.entries.forEach(g=>{g.hidden||U(L,g)}),L.sort((g,m)=>g.children&&!m.children?-1:!g.children&&m.children?1:g.label&&m.label?g.label.localeCompare(m.label):0),L});vt(()=>s.activeViewEntryRelativePath,L=>{if(!L){H.value=void 0;return}d(L)});function d(L){const g=m=>{if(m.value===L)return H.value=m,!0;if(m.children){for(const J of m.children)if(g(J))return!0}return!1};for(const m of Z.value)if(g(m))break}return Jt(()=>{s.activeViewEntryRelativePath&&d(s.activeViewEntryRelativePath)}),(L,g)=>{const m=we,J=Ue,K=Gt;return p(),ie("div",Be,[o(K,{items:Z.value,modelValue:H.value,"onUpdate:modelValue":g[0]||(g[0]=u=>H.value=u)},{"tree-file":h(({item:u})=>[o(J,{items:[{label:"Reset",icon:"lucide:file-minus-2",disabled:u.entry.relative_path!=="main.css"&&!(Number(n(X).virtualOptions("general.tailwindcss.version",4).value)===4&&u.entry.relative_path==="wizard.css"),onSelect:()=>{P("reset",u.entry)}},{label:"Rename",icon:"i-lucide-edit",disabled:u.entry.relative_path==="main.css",onSelect:()=>{P("rename",u.entry)}},{label:"Delete",icon:"i-lucide-trash-2",disabled:u.entry.relative_path==="main.css",onSelect:()=>{P("delete",u.entry)}}]},{default:h(()=>[ge("div",je,[u.icon?(p(),T(m,{key:0,name:u.icon,class:"shrink-0 size-5"},null,8,["name"])):oe("",!0),ze(" "+xe(u.label),1)])]),_:2},1032,["items"])]),_:1},8,["items","modelValue"])])}}}),We={class:"text-xs opacity-60 font-normal"},Ge={class:"flex-1 overflow-y-auto relative"},He={key:0,class:"absolute bottom-5 left-5 z-50"},Je={key:"panel",class:"bg-(--ui-bg)/30 backdrop-blur-md border border-error/20 rounded-lg p-4 shadow-xl min-w-80 max-w-96 origin-bottom-left"},Ye={class:"flex items-start gap-3"},Qe={class:"flex-1"},Xe={class:"flex items-center justify-between mb-2"},Ze={class:"font-medium text-error text-sm"},et={class:"text-sm mb-2"},tt={key:0,class:"text-xs text-muted"},it=Pe({__name:"FileEditor",props:{entry:{}},emits:["close","save","delete","reset"],setup(t,{emit:D}){const s=qe(),X=ct(),P=Ft(),H=t,U=D,Z={automaticLayout:!0,formatOnType:!1,formatOnPaste:!1,fontSize:14},d=Yt(),L=Ie(!1),g=Ie(!1);let m=null;const J=new Set,K=Ie({hasErrors:!1,errors:[]}),u=Ie(!1);async function he(e,l){if(d.value=e,L.value=!0,Number(X.virtualOptions("general.tailwindcss.version",4).value)===4){let O=null,B=null,a=0;const ae=3e4,ce=async()=>{const r=Date.now();return O&&r-a<ae?O:O&&r-a>=ae?(B||(B=fe()),O):B||(B=fe(),B)},fe=async()=>{try{const r=s.getKVEntries(),i=await xt({volume:r}),v=await ti(i),k=ii(i);O={designSystem:i,variablesList:v,classList:k},a=Date.now()}catch(r){console.warn("Failed to load design system:",r),O||(O={designSystem:null,variablesList:[],classList:[]})}finally{B=null}return O},ye=Re(async()=>{var r;try{const i=s.getKVEntries();await xt({volume:i,strict:!0}),K.value={hasErrors:!1,errors:[]}}catch(i){const v={message:i.message||"Unknown CSS error",line:i.line,column:i.column,file:((r=i.input)==null?void 0:r.from)||"main.css"};K.value={hasErrors:!0,errors:[v]}}},750),$=new Map,C=1e4,M=50,V=()=>{if($.size>M){const r=Array.from($.entries()).sort((i,v)=>i[1].timestamp-v[1].timestamp).slice(0,Math.floor(M*.7));$.clear(),r.forEach(([i,v])=>$.set(i,v))}},q=(r,i)=>new Promise(v=>{const k=$.get(r),R=Date.now();if(k&&R-k.timestamp<C){k.hits++,v(k.items);return}if(k&&R-k.timestamp<C*2){k.hits++,v(k.items),i().then(F=>{$.set(r,{items:F,timestamp:R,hits:k.hits}),V()}).catch(()=>{});return}i().then(F=>{$.set(r,{items:F,timestamp:R,hits:1}),V(),v(F)}).catch(F=>{console.warn("Failed to generate autocomplete items:",F),v([])})}),A=Re(()=>{a=0,$.clear(),ye()},1e3),j=kt(()=>{A()},500,{leading:!0,trailing:!0});e.onDidChangeModelContent(j),l.languages.css.cssDefaults.setOptions(Object.assign(l.languages.css.cssDefaults.options,{data:{useDefaultDataProvider:!0,dataProviders:{tailwindcss:{version:1.1,atDirectives:[{name:"@theme",status:"standard",description:wp.i18n.__("Theme variables are special CSS variables defined using the `@theme` directive that influence which utility classes exist in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Theme variables","windpress"),url:"https://tailwindcss.com/docs/theme"}]},{name:"@plugin",status:"standard",description:wp.i18n.__("Use the `@plugin` directive to load a legacy JavaScript-based plugin.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#plugin-directive"},{name:wp.i18n.__("Docs: Tailwind CSS plugins","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-plugins"}]},{name:"@config",status:"standard",description:wp.i18n.__("Use the `@config` directive to load a legacy JavaScript-based configuration file.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#config-directive"},{name:wp.i18n.__("Docs: Tailwind CSS configuration","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-configuration"}]},{name:"@tailwind",status:"standard",description:wp.i18n.__("Use the `@tailwind` directive to insert Tailwind's `base`, `components`, `utilities` and `variants` styles into your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://v3.tailwindcss.com/docs/functions-and-directives#tailwind"}]},{name:"@apply",status:"standard",description:wp.i18n.__("Use the `@apply` directive to inline any existing utility classes into your own custom CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#apply-directive"}]},{name:"@utility",status:"standard",description:wp.i18n.__("Use the `@utility` directive to add custom utilities to your project that work with variants like `hover`, `focus` and `lg``.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#utility-directive"}]},{name:"@custom-variant",status:"standard",description:wp.i18n.__("Use the `@custom-variant` directive to add a custom variant in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#custom-variant-directive"}]},{name:"@variant",status:"standard",description:wp.i18n.__("Use the `@variant` directive to apply a Tailwind variant to styles in your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#variant-directive"}]},{name:"@source",status:"standard",description:wp.i18n.__("Use the `@source` directive to scan additional source files.","windpress"),references:[{name:wp.i18n.__("Docs: Scanning additional Sources","windpress"),url:"https://wind.press/docs/configuration/file-main-css#scanning-additional-sources"}]},{name:"@layer",status:"standard",description:wp.i18n.__("Use the `@layer` directive to tell Tailwind which \u201Cbucket\u201D a set of custom styles belong to. Valid layers are `base`, `components`, and `utilities`."),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://v3.tailwindcss.com/docs/functions-and-directives#layer"}]}]}}}})),setTimeout(()=>{g.value||(g.value=!0,l.languages.registerCompletionItemProvider("css",{async provideCompletionItems(r,i){try{const v=r.getWordUntilPosition(i),k=Math.max(i.lineNumber-30,1),R=[...r.getValueInRange({startLineNumber:k,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}).matchAll(/@apply\s+(?<classList>[^;}]*)$/gi)],F=R[R.length-1];if(F&&F.groups){const S=F.groups.classList||"",z=S.split(/\s+/),ne=z[z.length-1]||"",ve=`apply_${ne}_${S.length}`;try{return{suggestions:await q(ve,async()=>{const{classList:W,variablesList:Y}=await ce();if(!W||W.length===0)return[];const ue=y=>{var b;return((b=y==null?void 0:y.find(f=>f.property&&f.property.includes("color")))==null?void 0:b.value)||null};return W.filter(y=>!(y.kind!=="utility"||y.selector.includes(":"))).map((y,b)=>{const f=ue(y.declarations);let N=l.languages.CompletionItemKind.Property;f&&(N=l.languages.CompletionItemKind.Color);const x={label:y.selector,kind:N,insertText:y.selector,range:{startLineNumber:i.lineNumber,startColumn:Math.max(1,i.column-ne.length),endLineNumber:i.lineNumber,endColumn:i.column},sortText:yt(b),documentation:f?`Color: ${f}`:y.css||void 0,detail:y.css||void 0};if(f)try{let _=f;const I=f.match(/var\((--[^)]+)\)/);if(I){const E=I[1],Q=Y.find(re=>re.key===E);if(Q&&Q.value)_=Q.value;else return x}const c=new Oe(_);let w;if(c.alpha<1){const E=c.to("srgb"),[Q,re,de]=E.coords,me=Math.round((Q??0)*255),te=Math.round((re??0)*255),G=Math.round((de??0)*255),se=E.alpha??1;w=`rgba(${me}, ${te}, ${G}, ${se})`}else w=c.toString({format:"hex"});x.documentation=`${w}

${y.css||""}`}catch{}return x})})}}catch(W){return console.warn("Error fetching @apply autocomplete suggestions:",W),{suggestions:[]}}}else try{const{variablesList:S}=await ce();return!S||S.length===0?{suggestions:[]}:{suggestions:S.map((z,ne)=>({kind:z.key.includes("--color")?l.languages.CompletionItemKind.Color:l.languages.CompletionItemKind.Variable,label:z.key,insertText:z.key,detail:z.value,range:{startLineNumber:i.lineNumber,startColumn:v.startColumn,endLineNumber:i.lineNumber,endColumn:v.endColumn},sortText:yt(ne)}))}}catch(S){return console.warn("Error fetching CSS variable suggestions:",S),{suggestions:[]}}}catch(v){return console.warn("Error in completion provider:",v),{suggestions:[]}}}}),l.languages.registerHoverProvider("css",{async provideHover(r,i){const{designSystem:v}=await ce();if(!v)return null;const k=Math.max(i.lineNumber-30,1),R=Math.min(i.lineNumber+30,r.getLineCount()),F=r.getValueInRange({startLineNumber:k,startColumn:1,endLineNumber:R,endColumn:r.getLineMaxColumn(R)}),S=[...F.matchAll(/@apply\s+([\s\S]*?)(?=\s*[;}]|@apply|\s*$)/g)];if(S.length===0)return null;let z=null;const ne=i.lineNumber-k;for(const b of S){const f=b.index,N=F.substring(0,f).split(`
`).length-1,x=b[0].split(`
`).length,_=N+x-1;if(ne>=N&&ne<=_){z=b;break}}if(!z||!z[1])return null;const ve=z[1].split(/\s+/).filter(Boolean);if(ve.length===0)return null;const W=r.getLineContent(i.lineNumber),Y=[...W.matchAll(/@apply\s+([^;}@]+)/g)];let ue=null,y=-1;for(const b of Y){const f=b.index,N=f+b[0].length;if(i.column>=f+1&&i.column<=N+1){ue=b,y=f;break}}if(y!==-1&&ue){const b=ue[1].split(/\s+/).filter(Boolean);let f=y+6,N=null,x=null;for(const _ of b){for(;f<W.length&&/\s/.test(W[f]);)f++;const I=f,c=f+_.length;if(i.column>=I+1&&i.column<=c+1){N=_,x={startLineNumber:i.lineNumber,startColumn:I+1,endLineNumber:i.lineNumber,endColumn:c+1};break}f=c}if(N&&x)try{const _=await Ae(v,[N]);if(_&&_.length>0&&_[0]){const I=_[0];return{range:x,contents:[{value:`\`\`\`css
${I}
\`\`\``}]}}}catch(_){console.warn("Error generating hover information for class:",N,_)}return null}else{const b=W.trim().split(/\s+/).filter(Boolean).map(x=>x.replace(/[;}]+$/,""));let f=null,N=null;for(const x of b){if(!ve.includes(x))continue;const _=W.indexOf(x);if(_===-1)continue;const I=_+x.length;if(i.column>=_+1&&i.column<=I+1){f=x,N={startLineNumber:i.lineNumber,startColumn:_+1,endLineNumber:i.lineNumber,endColumn:I+1};break}}if(f&&N)try{const x=await Ae(v,[f]);if(x&&x.length>0&&x[0]){const _=x[0];return{range:N,contents:[{value:`\`\`\`css
${_}
\`\`\``}]}}}catch(x){console.warn("Error generating hover information for class:",f,x)}return null}}}),l.languages.registerColorProvider("css",{provideColorPresentations(r,i){const{red:v,green:k,blue:R,alpha:F}=i.color,S=new Oe("srgb",[v,k,R],F),z=r.getLineContent(i.range.startLineNumber),ne=z.match(/@apply\s+([^;}]+)/);if(ne){const ve=ne[1],W=[];let Y="",ue=0;for(let y=0;y<ve.length;y++){const b=ve[y];b==="["?(ue++,Y+=b):b==="]"?(ue--,Y+=b):b===" "&&ue===0?Y.trim()&&(W.push(Y.trim()),Y=""):Y+=b}Y.trim()&&W.push(Y.trim());for(const y of W){let b=z.indexOf("@apply")+6;for(;b<z.length&&/\s/.test(z[b]);)b++;let f=-1;for(const _ of W){if(_===y){f=b;break}for(b+=_.length;b<z.length&&/\s/.test(z[b]);)b++}if(f===-1)continue;const N=f+1,x=N+y.length;if(i.range.startColumn===N&&i.range.endColumn===x&&/\[([#].+|rgb.+|rgba.+|hsl.+|hsla.+|lch.+|oklch.+|lab.+|oklab.+|hwb.+|color-mix.+)\]/.test(y)){const _=y.match(/^([^[]+)\[([^\]]+)\]$/);if(_){const I=_[1],c=w=>{let E=w.replace(/\s*,\s*/g,",");return E=E.replace(/\s+/g,"_"),E};return[{label:`${I}[${S.toString({format:"hex"})}]`},{label:`${I}[rgb(${Math.round(v*255)},${Math.round(k*255)},${Math.round(R*255)})]`},{label:`${I}[rgba(${Math.round(v*255)},${Math.round(k*255)},${Math.round(R*255)},${F})]`},{label:`${I}[${c(S.to("hsl").toString({format:"hsl"}))}]`},{label:`${I}[${c(S.to("hwb").toString({format:"hwb"}))}]`},{label:`${I}[${c(S.to("lch").toString({format:"lch"}))}]`},{label:`${I}[${c(S.to("oklch").toString({format:"oklch"}))}]`},{label:`${I}[${c(S.to("lab").toString({format:"lab"}))}]`},{label:`${I}[${c(S.to("oklab").toString({format:"oklab"}))}]`}].map(w=>({...w,range:{startLineNumber:i.range.startLineNumber,startColumn:N,endLineNumber:i.range.endLineNumber,endColumn:x}}))}}}}return[{label:S.toString({format:"hex"})},{label:`rgb(${Math.round(v*255)}, ${Math.round(k*255)}, ${Math.round(R*255)})`},{label:`rgba(${Math.round(v*255)}, ${Math.round(k*255)}, ${Math.round(R*255)}, ${F})`},{label:S.to("hsl").toString({format:"hsl"})},{label:S.to("hwb").toString({format:"hwb"})},{label:S.to("lch").toString({format:"lch"})},{label:S.to("oklch").toString({format:"oklch"})},{label:S.to("lab").toString({format:"lab"})},{label:S.to("oklab").toString({format:"oklab"})}]},async provideDocumentColors(r){const i=[],v=[],k=r.getValue(),R=new Set,F=c=>/\[([#].+|rgb.+|rgba.+|hsl.+|hsla.+|lch.+|oklch.+|lab.+|oklab.+|hwb.+|color-mix.+)\]/.test(c),S=c=>`windpress-color-decoration-${new Oe("srgb",[c.red,c.green,c.blue],c.alpha).toString({format:"hex"}).replace("#","")}`,z=(c,w,E,Q)=>{const re=`${w}-${E}`;if(!R.has(re))try{const de=c.replace(/\/\*[^*]*\*+(?:[^/*][^*]*\*+)*\//g,"").trim();if(de.startsWith("color-mix("))return;const me=new Oe(de).to("srgb"),[te,G,se]=me.coords,le=r.getPositionAt(w),ke=r.getPositionAt(E),Se={red:Math.max(0,Math.min(1,te??0)),green:Math.max(0,Math.min(1,G??0)),blue:Math.max(0,Math.min(1,se??0)),alpha:me.alpha??1},nt={startLineNumber:le.lineNumber,startColumn:le.column,endLineNumber:ke.lineNumber,endColumn:ke.column};if(Q)i.push({color:Se,range:nt});else{const Ne=S(Se),St=new Oe("srgb",[Se.red,Se.green,Se.blue],Se.alpha).toString({format:"hex"});J.has(Ne)||(m||(m=document.createElement("style"),m.setAttribute("data-windpress-colors","true"),document.head.appendChild(m)),J.add(Ne),m.textContent+=`.${Ne} { background-color: ${St}; }
`),v.push({range:nt,options:{before:{content:"\xA0",inlineClassName:`${Ne} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}R.add(re)}catch(de){console.warn("Invalid color format:",c,de)}},{designSystem:ne,variablesList:ve}=await ce();if(!ne||!ve)return i;const W=/@apply\s+([^;}]+)/g;let Y;for(;(Y=W.exec(k))!==null;){const c=Y[1],w=c.split(/\s+/).filter(Boolean);for(const E of w)try{const Q=F(E),re=await Ae(ne,[E]);if(re&&re.length>0){const de=re.join(`
`);let me=null;if(Q){const te=de.match(/(background-color|color|border-color|fill|stroke|border-top-color|border-right-color|border-bottom-color|border-left-color):\s*([^;]+)/);if(te){const G=te[2].trim();!G.startsWith("var(")&&!G.includes("transparent")&&G!=="currentColor"&&(me=G)}}else{const te=de.match(/var\((--[^)]*color[^)]*)\)/);if(te){const G=te[1],se=ve.find(le=>le.key===G);se&&se.value&&(me=se.value)}}if(me){const te=Y.index+Y[0].indexOf(c);let G=0,se=-1;for(const le of w){for(;G<c.length&&/\s/.test(c[G]);)G++;if(le===E){se=G;break}G+=le.length}if(se!==-1){const le=te+se,ke=le+E.length;z(me,le,ke,Q)}}}}catch(Q){console.warn("Error processing class for color preview:",E,Q)}}const ue=/@theme\s*\{([^}]*)\}/gs;let y;for(;(y=ue.exec(k))!==null;){const c=y[1],w=y.index+y[0].indexOf("{")+1,E=/--[^:]+:\s*([^;]+);/g;let Q;for(;(Q=E.exec(c))!==null;){const re=Q[0],de=Q[1].trim(),me=Q.index,te=re.indexOf(":"),G=re.substring(te+1).search(/\S/),se=me+te+1+G,le=w+se,ke=le+de.length;z(de,le,ke,!0)}}const b=[/\b(oklch|oklab|lch|lab)\(([^)]*(?!\bvar\b|\benv\b|\bcalc\b)[^)]*)\)/gi],f=[],N=/@theme\s*\{([^}]*)\}/gs;let x;for(;(x=N.exec(k))!==null;){const c=x.index,w=x.index+x[0].length;f.push({start:c,end:w})}const _=/@apply\s+([^;}]+)/g;let I;for(;(I=_.exec(k))!==null;){const c=I.index,w=I.index+I[0].length;f.push({start:c,end:w})}if(b.forEach(c=>{let w;for(;(w=c.exec(k))!==null;)w[0].includes("var(")||w[0].includes("env(")||w[0].includes("calc(")||f.some(E=>w.index>=E.start&&w.index+w[0].length<=E.end)||z(w[0],w.index,w.index+w[0].length,!0);c.lastIndex=0}),v.length>0){const c=r.__windpressColorDecorations||[];r.__windpressColorDecorations=r.deltaDecorations(c,v)}return i}}))},100),A()}l.editor.addEditorAction({id:"save",label:wp.i18n.__("Save","windpress"),keybindings:[l.KeyMod.CtrlCmd|l.KeyCode.KeyS],run:()=>{U("save")}})}return Qt(()=>{if(m&&(m.remove(),m=null),J.clear(),d.value){const e=d.value.getModel();e&&e.__windpressColorDecorations&&(e.deltaDecorations(e.__windpressColorDecorations,[]),delete e.__windpressColorDecorations)}}),(e,l)=>{const O=ut,B=dt,a=we,ae=Kt,ce=pt,fe=Xt("vue-monaco-editor"),ye=mt;return p(),T(ye,{id:"explorer-2",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:h(()=>{var $;return[o(ce,{title:($=e.entry)==null?void 0:$.relative_path,toggle:!1,ui:{title:"text-sm"}},{leading:h(()=>[o(B,{text:e.i18n.__("Close","windpress")},{default:h(()=>[o(O,{icon:"i-lucide-x",color:"neutral",variant:"ghost",class:"-ms-1.5",onClick:l[0]||(l[0]=C=>U("close"))})]),_:1},8,["text"])]),title:h(()=>{var C,M,V,q,A;return[o(a,{name:`vscode-icons:file-type-${((C=e.entry)==null?void 0:C.relative_path)==="main.css"?"tailwind":n(Ee).extname(((M=e.entry)==null?void 0:M.relative_path)??"").replace(".","")}`,class:"size-5"},null,8,["name"]),ze(" "+xe((V=e.entry)==null?void 0:V.relative_path)+" ",1),H.entry.readonly?(p(),T(ae,{key:0,label:e.i18n.__("read-only","windpress"),color:"warning",variant:"outline"},null,8,["label"])):oe("",!0),(q=e.entry)!=null&&q.path_on_disk?(p(),T(B,{key:1,text:`${e.i18n.__("Path on disk","windpress")}: ${(A=e.entry)==null?void 0:A.path_on_disk}`},{default:h(()=>{var j;return[ge("span",We,[l[7]||(l[7]=ze(" [ ",-1)),o(a,{name:"i-lucide-hard-drive",class:"inline-block align-middle me-1"}),ze(" "+xe((j=e.entry)==null?void 0:j.path_on_disk)+" ] ",1)])]}),_:1},8,["text"])):oe("",!0)]}),right:h(()=>{var C,M,V,q,A,j,r;return[((C=e.entry)==null?void 0:C.relative_path)!=="main.css"&&!(Number(n(X).virtualOptions("general.tailwindcss.version",4).value)===3&&(((M=e.entry)==null?void 0:M.relative_path)==="tailwind.config.js"||((V=e.entry)==null?void 0:V.relative_path)==="wizard.js"))?(p(),T(B,{key:0,text:e.i18n.__("Delete","windpress")},{default:h(()=>[o(O,{icon:"i-lucide-trash",color:"neutral",variant:"ghost",onClick:l[1]||(l[1]=i=>U("delete",e.entry))})]),_:1},8,["text"])):oe("",!0),((q=e.entry)==null?void 0:q.relative_path)==="main.css"||((A=e.entry)==null?void 0:A.relative_path)==="wizard.css"||Number(n(X).virtualOptions("general.tailwindcss.version",4).value)===3&&(((j=e.entry)==null?void 0:j.relative_path)==="tailwind.config.js"||((r=e.entry)==null?void 0:r.relative_path)==="wizard.js")?(p(),T(B,{key:1,text:e.i18n.__("Reset to default","windpress")},{default:h(()=>[o(O,{icon:"lucide:file-minus-2",color:"neutral",variant:"ghost",onClick:l[2]||(l[2]=i=>U("reset",e.entry))})]),_:1},8,["text"])):oe("",!0),o(B,{text:e.i18n.__("Save","windpress")},{default:h(()=>[o(O,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:l[3]||(l[3]=i=>U("save"))})]),_:1},8,["text"])]}),_:1},8,["title"]),ge("div",Ge,[o(bt,{"enter-active-class":"transition-all duration-500 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"scale-50 opacity-0 translate-y-4","enter-to-class":"scale-100 opacity-100 translate-y-0","leave-from-class":"scale-100 opacity-100 translate-y-0","leave-to-class":"scale-50 opacity-0 translate-y-4"},{default:h(()=>[K.value.hasErrors?(p(),ie("div",He,[o(bt,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"scale-75 opacity-0","enter-to-class":"scale-100 opacity-100","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-75 opacity-0",mode:"out-in"},{default:h(()=>{var C,M,V;return[u.value?(p(),ie("div",Je,[ge("div",Ye,[o(a,{name:"lucide:alert-triangle",class:"size-4 text-error mt-0.5 flex-shrink-0"}),ge("div",Qe,[ge("div",Xe,[ge("p",Ze,xe(e.i18n.__("CSS Validation Error","windpress")),1),o(O,{variant:"ghost",size:"xs",icon:"i-lucide-x",color:"neutral",onClick:l[5]||(l[5]=q=>u.value=!1)})]),ge("p",et,xe((C=K.value.errors[0])==null?void 0:C.message),1),(M=K.value.errors[0])!=null&&M.line?(p(),ie("div",tt,xe(e.i18n.__("Line","windpress"))+" "+xe(K.value.errors[0].line)+xe((V=K.value.errors[0])!=null&&V.column?`, ${e.i18n.__("Column","windpress")} ${K.value.errors[0].column}`:""),1)):oe("",!0)])])])):(p(),ie("div",{key:"icon",class:"bg-(--ui-bg)/30 backdrop-blur-md border border-error/20 rounded-lg p-3 shadow-xl hover:scale-110 transition-transform origin-bottom-left cursor-pointer",onClick:l[4]||(l[4]=q=>u.value=!0)},[o(a,{name:"lucide:alert-triangle",class:"size-4 text-error flex-shrink-0"})]))]}),_:1})])):oe("",!0)]),_:1}),o(fe,{value:H.entry.content,"onUpdate:value":l[6]||(l[6]=C=>H.entry.content=C),language:H.entry.relative_path.endsWith(".css")?"css":"javascript",saveViewState:!1,options:{...Z,readOnly:H.entry.readonly},onMount:he,theme:n(P)==="dark"?"vs-dark":"vs"},null,8,["value","language","options","theme"])])]}),_:1})}}}),at={key:1,class:"hidden lg:flex flex-1 items-center justify-center"},wt=Pe({__name:"File",setup(t){const D=qe(),s=jt(),X=Ie(null),P=Le({get(){return!!D.activeViewEntryRelativePath},set(Z){Z||(D.activeViewEntryRelativePath=null)}}),H=Le(()=>D.data.entries.find(d=>d.relative_path===D.activeViewEntryRelativePath)||(console.error(wp.i18n.__("Entry not found: ","windpress"),D.activeViewEntryRelativePath),D.activeViewEntryRelativePath="main.css",D.data.entries.find(d=>d.relative_path===D.activeViewEntryRelativePath))),U=Ut(Bt).smaller("lg");return(Z,d)=>{const L=Vt,g=ut,m=dt,J=pt,K=mt,u=we,he=qt;return p(),ie(Ce,null,[o(K,{id:"explorer-1","default-size":25,"min-size":20,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:h(()=>[o(J,{title:Z.i18n.__("Explorer","windpress"),class:"text-sm"},{leading:h(()=>[o(L)]),right:h(()=>[o(m,{"delay-duration":0,text:Z.i18n.__("Add new file","windpress")},{default:h(()=>[o(g,{color:"primary",variant:"subtle",icon:"i-lucide-plus",onClick:d[0]||(d[0]=e=>n(s).addNewFile())})]),_:1},8,["text"]),o(m,{"delay-duration":0,text:Z.i18n.__("Export SFS volume","windpress")},{default:h(()=>[o(g,{color:"neutral",variant:"outline",icon:"i-lucide-download",onClick:d[1]||(d[1]=e=>n(s).exportVolume())})]),_:1},8,["text"]),o(m,{"delay-duration":0,text:Z.i18n.__("Import SFS volume","windpress")},{default:h(()=>[o(g,{color:"neutral",variant:"outline",icon:"i-lucide-upload",onClick:d[2]||(d[2]=e=>{var l;return(l=X.value)==null?void 0:l.click()})}),ge("input",{ref_key:"importFileField",ref:X,type:"file",onChange:d[3]||(d[3]=(...e)=>n(s).importVolume&&n(s).importVolume(...e)),style:{display:"none"},accept:".windpress"},null,544)]),_:1},8,["text"])]),_:1},8,["title"]),o(Ke,{onRename:d[4]||(d[4]=e=>n(s).renameFile(e)),onDelete:d[5]||(d[5]=e=>n(s).deleteFile(e)),onReset:d[6]||(d[6]=e=>n(s).resetFile(e))})]),_:1}),n(D).activeViewEntryRelativePath?(p(),T(it,{key:0,onClose:d[7]||(d[7]=e=>n(D).activeViewEntryRelativePath=null),entry:H.value,onDelete:d[8]||(d[8]=e=>n(s).deleteFile(e)),onSave:d[9]||(d[9]=e=>n(s).save()),onReset:d[10]||(d[10]=e=>n(s).resetFile(e))},null,8,["entry"])):(p(),ie("div",at,[o(u,{name:"lucide:file-pen",class:"size-32 text-(--ui-text-dimmed)"})])),n(U)?(p(),T(he,{key:2,open:P.value,"onUpdate:open":d[11]||(d[11]=e=>P.value=e)},{content:h(()=>[o(Ke)]),_:1},8,["open"])):oe("",!0)],64)}}})});export{ri as __tla,wt as default};
