import{s as nt}from"./chunk-BP1tGd43.min.js";import"./source-map-generator-CTyyJ0I2.min.js";import"./dist-C_ABUlOQ.min.js";import{E as st,O as Te,S as ae,V as Ke,b as A,j as Fe,k as m,nD as ot,nj as n,nw as jt,nx as Oe,re as te,ri as we,rn as Pe,s as $e,tB as ct,tC as xe,tE as Bt,tG as dt,tS as De,tX as v,tg as g,tn as _e,to as Ut,tu as Ht,tw as Gt,v as ze,x as ce,y as he}from"./runtime-core.esm-bundler-Ca9eACeg.min.js";import{n as ut}from"./vue.runtime.esm-bundler-B7l4RX9R.min.js";import"./dist-BRFYlgNW.min.js";import{A as Jt,F as Yt,L as mt,M as Ne,W as pt,_ as Se,h as Zt,i as Xt,n as Qt,r as ei,t as gt,v as ht}from"./Button-B6tnd5h6.min.js";import"./log-BwehX2sj.js";import"./chunk-HTB5LLOP-BErhSb2z.min.js";import{_ as ti,g as ii,o as ai,r as ri,s as li,t as ni}from"./core-CuG4XPOF.min.js";import"./vue-router-DDJE2Uyj.min.js";import"./arrays-DDFP_r6g.min.js";import{a as si,n as oi,r as ci,t as ft,y as vt}from"./Tooltip-zde4fm_B.min.js";import{c as di,l as ui,t as fe}from"./namespaced-B_NM0idY.min.js";import{t as mi}from"./Tree-D9_O7Sct.min.js";import"./usePrimitiveElement-B0TMSs0k.min.js";import"./useOverlay-B6IppYWD.min.js";import"./floating-ui.core-BwRAMOlv.min.js";import"./Label-BYwosbTN.min.js";import"./useToast-DNBmJq55.min.js";import"./DashboardSidebarToggle-CgLKr-bb.min.js";import{t as pi}from"./Slideover-B0REVnDc.min.js";import"./Modal-LNGkPIgk.min.js";import"./api-j1hi8yn9.js";import"./index.browser-L__kdN7m.min.js";import{t as bt}from"./settings-DtACJkyx.js";import{t as gi}from"./isObject-BwTgHO42.min.js";import"./_toKey-BLmsLsy5.min.js";import{t as Re}from"./debounce-lqtlw_xu.min.js";import"./_initCloneObject-Cm0YirQr.min.js";import"./set-Cqd4I9bq.min.js";import"./get-BfBXFw95.min.js";import{n as hi,r as qe,t as fi,__tla as vi}from"./useFileAction-wutfzXsw.js";import"./virtualRef-CYpkks3b.js";import"./Input-CZFwhgLF.min.js";import"./preload-helper-hRiy8xQv.min.js";import"./base64-DC2Lnao2.min.js";import"./dist-BuaPZvPo.min.js";import"./lib-Bhom85nO.min.js";import"./dist-Bc3DqNCA.min.js";import{t as yt}from"./path-browserify-BdtUGfkV.min.js";import"./pre-process-RWgsscQ9.js";import{__tla as bi}from"./cssesc-Brw5KDvH.js";import{__tla as yi}from"./lightningcss-wasm-6j4Pv-Sn.min.js";import"./build-B3SDJAft.js";import"./vfs-Cd6bW2_1.js";import{a as xt,c as wt,i as xi,n as Ve,r as wi}from"./intellisense-BXfxfrXI.js";import"./adobe-css-tools-Cq8Zs2rG.min.js";import"./dlv.umd-9now9_xM.min.js";import{__tla as _i}from"./tailwindcss-DJIKWk4_.js";import"./dist-Bm-lj0eb.min.js";import{n as _t,t as St}from"./DashboardNavbar-CXpkMk1P.min.js";import{t as Si}from"./DashboardSidebarCollapse-rFgYlhRS.min.js";import{t as Ee}from"./color-3R88P7SJ.min.js";import"./dayjs.min-BAjIZEkX.min.js";import"./FormField-vMZGxLGG.min.js";let kt,ki=Promise.all([(()=>{try{return vi}catch{}})(),(()=>{try{return bi}catch{}})(),(()=>{try{return yi}catch{}})(),(()=>{try{return _i}catch{}})()]).then(async()=>{var Ct="Expected a function";function It(e,o,t){var _=!0,b=!0;if(typeof e!="function")throw TypeError(Ct);return gi(t)&&(_="leading"in t?!!t.leading:_,b="trailing"in t?!!t.trailing:b),Re(e,o,{leading:_,maxWait:o,trailing:b})}var Lt=It,We={__name:"ContextMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:o}){let t=e,_=o,b=ct(),{dir:re}=Jt(),U=pt(),T=si(ot(()=>t.portal)),d=vt(ii(t,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),_),L=mt(b,["default"]),[h,w]=ri(),P=ze(()=>re.value==="rtl"?U.ui.icons.chevronLeft:U.ui.icons.chevronRight),Q=ze(()=>{var u;return(u=t.items)!=null&&u.length?Yt(t.items)?t.items:[t.items]:[]});return(u,de)=>(g(),ae($e,null,[m(n(h),null,{default:v(({item:i,active:l,index:c})=>[xe(u.$slots,i.slot||"item",{item:i,index:c},()=>{var V,r,H,ve,ue,be;return[xe(u.$slots,i.slot?`${i.slot}-leading`:"item-leading",{item:i,active:l,index:c},()=>{var ee,D,N,q,M,R,G,s;return[i.loading?(g(),A(Se,{key:0,name:e.loadingIcon||n(U).ui.icons.loading,class:te(e.ui.itemLeadingIcon({class:[(ee=e.uiOverride)==null?void 0:ee.itemLeadingIcon,(D=i.ui)==null?void 0:D.itemLeadingIcon],color:i==null?void 0:i.color,loading:!0}))},null,8,["name","class"])):i.icon?(g(),A(Se,{key:1,name:i.icon,class:te(e.ui.itemLeadingIcon({class:[(N=e.uiOverride)==null?void 0:N.itemLeadingIcon,(q=i.ui)==null?void 0:q.itemLeadingIcon],color:i==null?void 0:i.color,active:l}))},null,8,["name","class"])):i.avatar?(g(),A(Zt,_e({key:2,size:((M=i.ui)==null?void 0:M.itemLeadingAvatarSize)||((R=e.uiOverride)==null?void 0:R.itemLeadingAvatarSize)||e.ui.itemLeadingAvatarSize()},i.avatar,{class:e.ui.itemLeadingAvatar({class:[(G=e.uiOverride)==null?void 0:G.itemLeadingAvatar,(s=i.ui)==null?void 0:s.itemLeadingAvatar],active:l})}),null,16,["size","class"])):ce("",!0)]}),n(Ne)(i,t.labelKey)||b[i.slot?`${i.slot}-label`:"item-label"]?(g(),ae("span",{key:0,class:te(e.ui.itemLabel({class:[(V=e.uiOverride)==null?void 0:V.itemLabel,(r=i.ui)==null?void 0:r.itemLabel],active:l}))},[xe(u.$slots,i.slot?`${i.slot}-label`:"item-label",{item:i,active:l,index:c},()=>[Te(we(n(Ne)(i,t.labelKey)),1)]),i.target==="_blank"&&e.externalIcon!==!1?(g(),A(Se,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:n(U).ui.icons.external,class:te(e.ui.itemLabelExternalIcon({class:[(H=e.uiOverride)==null?void 0:H.itemLabelExternalIcon,(ve=i.ui)==null?void 0:ve.itemLabelExternalIcon],color:i==null?void 0:i.color,active:l}))},null,8,["name","class"])):ce("",!0)],2)):ce("",!0),he("span",{class:te(e.ui.itemTrailing({class:[(ue=e.uiOverride)==null?void 0:ue.itemTrailing,(be=i.ui)==null?void 0:be.itemTrailing]}))},[xe(u.$slots,i.slot?`${i.slot}-trailing`:"item-trailing",{item:i,active:l,index:c},()=>{var ee,D,N,q,M,R;return[(ee=i.children)!=null&&ee.length?(g(),A(Se,{key:0,name:P.value,class:te(e.ui.itemTrailingIcon({class:[(D=e.uiOverride)==null?void 0:D.itemTrailingIcon,(N=i.ui)==null?void 0:N.itemTrailingIcon],color:i==null?void 0:i.color,active:l}))},null,8,["name","class"])):(q=i.kbds)!=null&&q.length?(g(),ae("span",{key:1,class:te(e.ui.itemTrailingKbds({class:[(M=e.uiOverride)==null?void 0:M.itemTrailingKbds,(R=i.ui)==null?void 0:R.itemTrailingKbds]}))},[(g(!0),ae($e,null,De(i.kbds,(G,s)=>{var a,f;return g(),A(ci,_e({key:s,size:((a=i.ui)==null?void 0:a.itemTrailingKbdsSize)||((f=e.uiOverride)==null?void 0:f.itemTrailingKbdsSize)||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof G=="string"?{value:G}:G),null,16,["size"])}),128))],2)):ce("",!0)]}),m(n(fe).ItemIndicator,{"as-child":""},{default:v(()=>{var ee,D;return[m(Se,{name:e.checkedIcon||n(U).ui.icons.check,class:te(e.ui.itemTrailingIcon({class:[(ee=e.uiOverride)==null?void 0:ee.itemTrailingIcon,(D=i.ui)==null?void 0:D.itemTrailingIcon],color:i==null?void 0:i.color}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:3}),m(n(fe).Portal,Pe(Ke(n(T))),{default:v(()=>[(g(),A(Bt(e.sub?n(fe).SubContent:n(fe).Content),_e({class:t.class},n(d)),{default:v(()=>{var i;return[xe(u.$slots,"content-top"),he("div",{role:"presentation",class:te(e.ui.viewport({class:(i=e.uiOverride)==null?void 0:i.viewport}))},[(g(!0),ae($e,null,De(Q.value,(l,c)=>{var V;return g(),A(n(fe).Group,{key:`group-${c}`,class:te(e.ui.group({class:(V=e.uiOverride)==null?void 0:V.group}))},{default:v(()=>[(g(!0),ae($e,null,De(l,(r,H)=>{var ve,ue,be,ee,D,N,q;return g(),ae($e,{key:`group-${c}-${H}`},[r.type==="label"?(g(),A(n(fe).Label,{key:0,class:te(e.ui.label({class:[(ve=e.uiOverride)==null?void 0:ve.label,(ue=r.ui)==null?void 0:ue.label,r.class]}))},{default:v(()=>[m(n(w),{item:r,index:H},null,8,["item","index"])]),_:2},1032,["class"])):r.type==="separator"?(g(),A(n(fe).Separator,{key:1,class:te(e.ui.separator({class:[(be=e.uiOverride)==null?void 0:be.separator,(ee=r.ui)==null?void 0:ee.separator,r.class]}))},null,8,["class"])):(D=r==null?void 0:r.children)!=null&&D.length?(g(),A(n(fe).Sub,{key:2,open:r.open,"default-open":r.defaultOpen},{default:v(()=>{var M,R;return[m(n(fe).SubTrigger,{as:"button",type:"button",disabled:r.disabled,"text-value":n(Ne)(r,t.labelKey),class:te(e.ui.item({class:[(M=e.uiOverride)==null?void 0:M.item,(R=r.ui)==null?void 0:R.item,r.class],color:r==null?void 0:r.color}))},{default:v(()=>[m(n(w),{item:r,index:H},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),m(We,_e({sub:"",class:t.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:r.children,"align-offset":-4,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},r.content),st({_:2},[De(n(L),(G,s)=>({name:s,fn:v(a=>[xe(u.$slots,s,_e({ref_for:!0},a))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]}),_:2},1032,["open","default-open"])):r.type==="checkbox"?(g(),A(n(fe).CheckboxItem,{key:3,"model-value":r.checked,disabled:r.disabled,"text-value":n(Ne)(r,t.labelKey),class:te(e.ui.item({class:[(N=e.uiOverride)==null?void 0:N.item,(q=r.ui)==null?void 0:q.item,r.class],color:r==null?void 0:r.color})),"onUpdate:modelValue":r.onUpdateChecked,onSelect:r.onSelect},{default:v(()=>[m(n(w),{item:r,index:H},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(g(),A(n(fe).Item,{key:4,"as-child":"",disabled:r.disabled,"text-value":n(Ne)(r,t.labelKey),onSelect:r.onSelect},{default:v(()=>[m(Qt,_e({ref_for:!0},n(Xt)(r),{custom:""}),{default:v(({active:M,...R})=>{var G,s;return[m(ei,_e({ref_for:!0},R,{class:e.ui.item({class:[(G=e.uiOverride)==null?void 0:G.item,(s=r.ui)==null?void 0:s.item,r.class],active:M,color:r==null?void 0:r.color})}),{default:v(()=>[m(n(w),{item:r,active:M,index:H},null,8,["item","active","index"])]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128))],2),xe(u.$slots,"default"),xe(u.$slots,"content-bottom")]}),_:3},16,["class"]))]),_:3},16)],64))}},Ot={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-context-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}}],defaultVariants:{size:"md"}},$t={__name:"ContextMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:[String,Object],required:!1},loadingIcon:{type:[String,Object],required:!1},externalIcon:{type:[Boolean,String,Object],required:!1,default:!0},content:{type:Object,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},pressOpenDelay:{type:Number,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:o}){let t=e,_=o,b=ct(),re=pt(),U=vt(ti(t,"modal"),_),T=ot(()=>t.content),d=mt(b,["default"]),L=ze(()=>{var h;return ht({extend:ht(Ot),...((h=re.ui)==null?void 0:h.contextMenu)||{}})({size:t.size})});return(h,w)=>(g(),A(n(ui),Pe(Ke(n(U))),{default:v(()=>{var P;return[b.default?(g(),A(n(di),{key:0,"as-child":"",disabled:e.disabled,class:te(t.class)},{default:v(()=>[xe(h.$slots,"default")]),_:3},8,["disabled","class"])):ce("",!0),m(We,_e({class:L.value.content({class:[!b.default&&t.class,(P=t.ui)==null?void 0:P.content]}),ui:L.value,"ui-override":t.ui},T.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),st({_:2},[De(n(d),(Q,u)=>({name:u,fn:v(de=>[xe(h.$slots,u,Pe(Ke(de)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]}),_:3},16))}},Me=nt(yt()),zt={class:"overflow-y-auto divide-y divide-(--ui-border)"},Tt={class:"flex items-center gap-1.5 w-full"},je=Fe({__name:"FileExplorer",emits:["delete","rename","reset"],setup(e,{emit:o}){let t=qe(),_=bt(),b=o,re=Oe(void 0);dt(re,L=>{t.activeViewEntryRelativePath=(L==null?void 0:L.value)??null});function U(L,h,w){let P=(w?Me.default.relative(w,h.relative_path):h.relative_path).split("/"),Q=P.shift();if(P.length===0){L.push({label:Q,value:h.relative_path,icon:`vscode-icons:file-type-${h.relative_path==="main.css"?"tailwind":Me.default.extname(h.relative_path).replace(".","")}`,slot:"tree-file",entry:h});return}let u=L.find(de=>de.label===Q);u||(u={label:Q,children:[],onSelect:de=>{de.preventDefault()}},L.push(u)),U(u.children||(u.children=[]),h,w?Me.default.join(w,Q||""):Q||"")}let T=ze(()=>{let L=[];return t.data.entries.forEach(h=>{h.hidden||U(L,h)}),L.sort((h,w)=>h.children&&!w.children?-1:!h.children&&w.children?1:h.label&&w.label?h.label.localeCompare(w.label):0),L});dt(()=>t.activeViewEntryRelativePath,L=>{if(!L){re.value=void 0;return}d(L)});function d(L){let h=w=>{if(w.value===L)return re.value=w,!0;if(w.children){for(let P of w.children)if(h(P))return!0}return!1};for(let w of T.value)if(h(w))break}return Ht(()=>{t.activeViewEntryRelativePath&&d(t.activeViewEntryRelativePath)}),(L,h)=>{let w=Se,P=$t,Q=mi;return g(),ae("div",zt,[m(Q,{items:T.value,modelValue:re.value,"onUpdate:modelValue":h[0]||(h[0]=u=>re.value=u)},{"tree-file":v(({item:u})=>[m(P,{items:[{label:"Reset",icon:"lucide:file-minus-2",disabled:u.entry.relative_path!=="main.css"&&!(Number(n(_).virtualOptions("general.tailwindcss.version",4).value)===4&&u.entry.relative_path==="wizard.css"),onSelect:()=>{b("reset",u.entry)}},{label:"Rename",icon:"i-lucide-edit",disabled:u.entry.relative_path==="main.css",onSelect:()=>{b("rename",u.entry)}},{label:"Delete",icon:"i-lucide-trash-2",disabled:u.entry.relative_path==="main.css",onSelect:()=>{b("delete",u.entry)}}]},{default:v(()=>[he("div",Tt,[u.icon?(g(),A(w,{key:0,name:u.icon,class:"shrink-0 size-5"},null,8,["name"])):ce("",!0),Te(" "+we(u.label),1)])]),_:2},1032,["items"])]),_:1},8,["items","modelValue"])])}}}),Dt={$schema:"https://schemas.wp.org/trunk/theme.json",version:3,settings:{color:{},typography:{},border:{},shadow:{},spacing:{}}},B={COLOR:"--color-",FONT_FAMILY:"--font-",FONT_SIZE:"--text-",BORDER_RADIUS:"--radius-",SHADOW:"--shadow-",INSET_SHADOW:"--inset-shadow-",DROP_SHADOW:"--drop-shadow-",SPACING:"--spacing-"},Nt=["feature-settings","variation-settings","family","size","smoothing","style","weight","stretch"],Et=["line-height","letter-spacing","font-weight","shadow"];function ke(e){return"[tw] "+e.replace(/[-_]/g," ").trim()}function Ce(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}function Be(e,o){return!o.some(t=>e.includes(t))}function At(e){return e.sort((o,t)=>{let _=parseFloat(o.size),b=parseFloat(t.size);return _-b})}function Mt(e,o){let t=e.replace(B.COLOR,"");return{name:ke(t),slug:Ce(t),color:o.trim()}}function Kt(e,o){let t=e.replace(B.FONT_FAMILY,"");return Be(t,Nt)?{name:ke(t),slug:Ce(t),fontFamily:o.trim().replace(/['"]/g,"")}:null}function Ft(e,o){let t=e.replace(B.FONT_SIZE,"");return Be(t,Et)?{name:ke(t),slug:Ce(t),size:o.trim()}:null}function Pt(e,o){let t=e.replace(B.BORDER_RADIUS,"");return{name:ke(t),slug:Ce(t),size:o.trim()}}function Rt(e,o){let t,_="";return e.startsWith(B.INSET_SHADOW)?(t=e.replace(B.INSET_SHADOW,""),_="inset-"):e.startsWith(B.DROP_SHADOW)?(t=e.replace(B.DROP_SHADOW,""),_="drop-"):t=e.replace(B.SHADOW,""),{name:ke(`${_}${t}`),slug:Ce(`${_}${t}`),shadow:o.trim()}}function qt(e,o){let t=e.replace(B.SPACING,"");return{name:ke(t),slug:Ce(t),size:o.trim()}}function Vt(e){let o={...Dt,settings:{color:{palette:[]},typography:{fontSizes:[],fontFamilies:[]},border:{radiusSizes:[]},shadow:{presets:[]},spacing:{spacingSizes:[]}}};return e.forEach(({key:t,value:_})=>{if(_){if(t.startsWith(B.COLOR)){let b=Mt(t,_);o.settings.color.palette.push(b)}else if(t.startsWith(B.FONT_FAMILY)){let b=Kt(t,_);b&&o.settings.typography.fontFamilies.push(b)}else if(t.startsWith(B.FONT_SIZE)){let b=Ft(t,_);b&&o.settings.typography.fontSizes.push(b)}else if(t.startsWith(B.BORDER_RADIUS)){let b=Pt(t,_);o.settings.border.radiusSizes.push(b)}else if(t.startsWith(B.INSET_SHADOW)||t.startsWith(B.DROP_SHADOW)||t.startsWith(B.SHADOW)){let b=Rt(t,_);o.settings.shadow.presets.push(b)}else if(t.startsWith(B.SPACING)){let b=qt(t,_);o.settings.spacing.spacingSizes.push(b)}}}),o.settings.typography.fontSizes=At(o.settings.typography.fontSizes),o}let Ue,He,Ge,Je,Ye,Ze,Xe,Qe,et,tt,it,at,rt;Ue=nt(yt()),He={class:"text-xs opacity-60 font-normal"},Ge={class:"flex-1 overflow-y-auto relative"},Je={key:0,class:"absolute bottom-5 left-5 z-50"},Ye={key:"panel",class:"bg-(--ui-bg)/30 backdrop-blur-md border border-error/20 rounded-lg p-4 shadow-xl min-w-80 max-w-96 origin-bottom-left"},Ze={class:"flex items-start gap-3"},Xe={class:"flex-1"},Qe={class:"flex items-center justify-between mb-2"},et={class:"font-medium text-error text-sm"},tt={class:"text-sm mb-2"},it={key:0,class:"text-xs text-muted"},at=Fe({__name:"FileEditor",props:{entry:{}},emits:["close","save","delete","reset"],setup(e,{emit:o}){let t=qe(),_=bt(),b=li(),re=hi(),U=e,T=o,d={automaticLayout:!0,formatOnType:!1,formatOnPaste:!1,fontSize:14},L=jt(),h=Oe(!1),w=Oe([]),P=null,Q=new Set,u=Oe({hasErrors:!1,errors:[]}),de=Oe(!1);async function i(l,c){if(L.value=l,h.value=!0,Number(_.virtualOptions("general.tailwindcss.version",4).value)===4){let V=null,r=null,H=0,ve=3e4,ue=async()=>{let s=Date.now();return V&&s-H<ve?V:V&&s-H>=ve?(r||(r=be()),V):r||(r=be(),r)},be=async()=>{try{let s=t.getKVEntries(),a=await wt({volume:s}),f=await xi(a),O=wi(a);V={designSystem:a,variablesList:f,classList:O},re.themeJson=Vt(f),H=Date.now()}catch(s){console.warn("Failed to load design system:",s),V||(V={designSystem:null,variablesList:[],classList:[]})}finally{r=null}return V},ee=Re(async()=>{var s;try{let a=t.getKVEntries();await wt({volume:a,strict:!0}),u.value={hasErrors:!1,errors:[]}}catch(a){u.value={hasErrors:!0,errors:[{message:a.message||"Unknown CSS error",line:a.line,column:a.column,file:((s=a.input)==null?void 0:s.from)||"main.css"}]}}},750),D=new Map,N=1e4,q=()=>{if(D.size>50){let s=Array.from(D.entries()).sort((a,f)=>a[1].timestamp-f[1].timestamp).slice(0,35);D.clear(),s.forEach(([a,f])=>D.set(a,f))}},M=(s,a)=>new Promise(f=>{let O=D.get(s),W=Date.now();if(O&&W-O.timestamp<N){O.hits++,f(O.items);return}if(O&&W-O.timestamp<N*2){O.hits++,f(O.items),a().then(j=>{D.set(s,{items:j,timestamp:W,hits:O.hits}),q()}).catch(()=>{});return}a().then(j=>{D.set(s,{items:j,timestamp:W,hits:1}),q(),f(j)}).catch(j=>{console.warn("Failed to generate autocomplete items:",j),f([])})}),R=Re(()=>{H=0,D.clear(),ee()},1e3),G=Lt(()=>{R()},500,{leading:!0,trailing:!0});w.value.push(l.onDidChangeModelContent(G)),window.__windpressMonacoInstantiated||(c.languages.css.cssDefaults.setOptions(Object.assign(c.languages.css.cssDefaults.options,{data:{useDefaultDataProvider:!0,dataProviders:{tailwindcss:{version:1.1,atDirectives:[{name:"@theme",status:"standard",description:wp.i18n.__("Theme variables are special CSS variables defined using the `@theme` directive that influence which utility classes exist in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Theme variables","windpress"),url:"https://tailwindcss.com/docs/theme"}]},{name:"@plugin",status:"standard",description:wp.i18n.__("Use the `@plugin` directive to load a legacy JavaScript-based plugin.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#plugin-directive"},{name:wp.i18n.__("Docs: Tailwind CSS plugins","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-plugins"}]},{name:"@config",status:"standard",description:wp.i18n.__("Use the `@config` directive to load a legacy JavaScript-based configuration file.","windpress"),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#config-directive"},{name:wp.i18n.__("Docs: Tailwind CSS configuration","windpress"),url:"https://wind.press/docs/configuration/file-main-css#tailwind-css-configuration"}]},{name:"@tailwind",status:"standard",description:wp.i18n.__("Use the `@tailwind` directive to insert Tailwind's `base`, `components`, `utilities` and `variants` styles into your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://v3.tailwindcss.com/docs/functions-and-directives#tailwind"}]},{name:"@apply",status:"standard",description:wp.i18n.__("Use the `@apply` directive to inline any existing utility classes into your own custom CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#apply-directive"}]},{name:"@utility",status:"standard",description:wp.i18n.__("Use the `@utility` directive to add custom utilities to your project that work with variants like `hover`, `focus` and `lg``.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#utility-directive"}]},{name:"@custom-variant",status:"standard",description:wp.i18n.__("Use the `@custom-variant` directive to add a custom variant in your project.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#custom-variant-directive"}]},{name:"@variant",status:"standard",description:wp.i18n.__("Use the `@variant` directive to apply a Tailwind variant to styles in your CSS.","windpress"),references:[{name:wp.i18n.__("Docs: Tailwind CSS functions & directives","windpress"),url:"https://tailwindcss.com/docs/functions-and-directives#variant-directive"}]},{name:"@source",status:"standard",description:wp.i18n.__("Use the `@source` directive to scan additional source files.","windpress"),references:[{name:wp.i18n.__("Docs: Scanning additional Sources","windpress"),url:"https://wind.press/docs/configuration/file-main-css#scanning-additional-sources"}]},{name:"@layer",status:"standard",description:wp.i18n.__("Use the `@layer` directive to tell Tailwind which \u201Cbucket\u201D a set of custom styles belong to. Valid layers are `base`, `components`, and `utilities`."),references:[{name:wp.i18n.__("Docs: Functions & Directives","windpress"),url:"https://v3.tailwindcss.com/docs/functions-and-directives#layer"}]}]}}}})),setTimeout(()=>{c.languages.registerCompletionItemProvider("css",{async provideCompletionItems(s,a){try{let f=s.getWordUntilPosition(a),O=Math.max(a.lineNumber-30,1),W=[...s.getValueInRange({startLineNumber:O,startColumn:1,endLineNumber:a.lineNumber,endColumn:a.column}).matchAll(/@apply\s+(?<classList>[^;}]*)$/gi)],j=W[W.length-1];if(j&&j.groups){let $=j.groups.classList||"",E=$.split(/\s+/),le=E[E.length-1]||"",ye=`apply_${le}_${$.length}`;try{return{suggestions:await M(ye,async()=>{let{classList:J,variablesList:Z}=await ue();if(!J||J.length===0)return[];let pe=S=>{var x;return((x=S==null?void 0:S.find(y=>y.property&&y.property.includes("color")))==null?void 0:x.value)||null};return J.filter(S=>!(S.kind!=="utility"||S.selector.includes(":"))).map((S,x)=>{let y=pe(S.declarations),K=c.languages.CompletionItemKind.Property;y&&(K=c.languages.CompletionItemKind.Color);let k={label:S.selector,kind:K,insertText:S.selector,range:{startLineNumber:a.lineNumber,startColumn:Math.max(1,a.column-le.length),endLineNumber:a.lineNumber,endColumn:a.column},sortText:xt(x),documentation:y?`Color: ${y}`:S.css||void 0,detail:S.css||void 0};if(y)try{let I=y,z=y.match(/var\((--[^)]+)\)/);if(z){let F=z[1],X=Z.find(ne=>ne.key===F);if(X&&X.value)I=X.value;else return k}let p=new Ee(I),C;if(p.alpha<1){let F=p.to("srgb"),[X,ne,me]=F.coords,ge=Math.round((X??0)*255),ie=Math.round((ne??0)*255),Y=Math.round((me??0)*255),se=F.alpha??1;C=`rgba(${ge}, ${ie}, ${Y}, ${se})`}else C=p.toString({format:"hex"});k.documentation=`${C}

${S.css||""}`}catch{}return k})})}}catch(J){return console.warn("Error fetching @apply autocomplete suggestions:",J),{suggestions:[]}}}else try{let{variablesList:$}=await ue();return!$||$.length===0?{suggestions:[]}:{suggestions:$.map((E,le)=>({kind:E.key.includes("--color")?c.languages.CompletionItemKind.Color:c.languages.CompletionItemKind.Variable,label:E.key,insertText:E.key,detail:E.value,range:{startLineNumber:a.lineNumber,startColumn:f.startColumn,endLineNumber:a.lineNumber,endColumn:f.endColumn},sortText:xt(le)}))}}catch($){return console.warn("Error fetching CSS variable suggestions:",$),{suggestions:[]}}}catch(f){return console.warn("Error in completion provider:",f),{suggestions:[]}}}}),c.languages.registerHoverProvider("css",{async provideHover(s,a){let{designSystem:f}=await ue();if(!f)return null;let O=Math.max(a.lineNumber-30,1),W=Math.min(a.lineNumber+30,s.getLineCount()),j=s.getValueInRange({startLineNumber:O,startColumn:1,endLineNumber:W,endColumn:s.getLineMaxColumn(W)}),$=[...j.matchAll(/@apply\s+([\s\S]*?)(?=\s*[;}]|@apply|\s*$)/g)];if($.length===0)return null;let E=null,le=a.lineNumber-O;for(let x of $){let y=x.index,K=j.substring(0,y).split(`
`).length-1,k=x[0].split(`
`).length,I=K+k-1;if(le>=K&&le<=I){E=x;break}}if(!E||!E[1])return null;let ye=E[1].split(/\s+/).filter(Boolean);if(ye.length===0)return null;let J=s.getLineContent(a.lineNumber),Z=[...J.matchAll(/@apply\s+([^;}@]+)/g)],pe=null,S=-1;for(let x of Z){let y=x.index,K=y+x[0].length;if(a.column>=y+1&&a.column<=K+1){pe=x,S=y;break}}if(S!==-1&&pe){let x=pe[1].split(/\s+/).filter(Boolean),y=S+6,K=null,k=null;for(let I of x){for(;y<J.length&&/\s/.test(J[y]);)y++;let z=y,p=y+I.length;if(a.column>=z+1&&a.column<=p+1){K=I,k={startLineNumber:a.lineNumber,startColumn:z+1,endLineNumber:a.lineNumber,endColumn:p+1};break}y=p}if(K&&k)try{let I=await Ve(f,[K]);if(I&&I.length>0&&I[0]){let z=I[0];return{range:k,contents:[{value:`\`\`\`css
${z}
\`\`\``}]}}}catch(I){console.warn("Error generating hover information for class:",K,I)}return null}else{let x=J.trim().split(/\s+/).filter(Boolean).map(k=>k.replace(/[;}]+$/,"")),y=null,K=null;for(let k of x){if(!ye.includes(k))continue;let I=J.indexOf(k);if(I===-1)continue;let z=I+k.length;if(a.column>=I+1&&a.column<=z+1){y=k,K={startLineNumber:a.lineNumber,startColumn:I+1,endLineNumber:a.lineNumber,endColumn:z+1};break}}if(y&&K)try{let k=await Ve(f,[y]);if(k&&k.length>0&&k[0]){let I=k[0];return{range:K,contents:[{value:`\`\`\`css
${I}
\`\`\``}]}}}catch(k){console.warn("Error generating hover information for class:",y,k)}return null}}}),c.languages.registerColorProvider("css",{provideColorPresentations(s,a){let{red:f,green:O,blue:W,alpha:j}=a.color,$=new Ee("srgb",[f,O,W],j),E=s.getLineContent(a.range.startLineNumber),le=E.match(/@apply\s+([^;}]+)/);if(le){let ye=le[1],J=[],Z="",pe=0;for(let S=0;S<ye.length;S++){let x=ye[S];x==="["?(pe++,Z+=x):x==="]"?(pe--,Z+=x):x===" "&&pe===0?Z.trim()&&(J.push(Z.trim()),Z=""):Z+=x}Z.trim()&&J.push(Z.trim());for(let S of J){let x=E.indexOf("@apply")+6;for(;x<E.length&&/\s/.test(E[x]);)x++;let y=-1;for(let I of J){if(I===S){y=x;break}for(x+=I.length;x<E.length&&/\s/.test(E[x]);)x++}if(y===-1)continue;let K=y+1,k=K+S.length;if(a.range.startColumn===K&&a.range.endColumn===k&&/\[([#].+|rgb.+|rgba.+|hsl.+|hsla.+|lch.+|oklch.+|lab.+|oklab.+|hwb.+|color-mix.+)\]/.test(S)){let I=S.match(/^([^[]+)\[([^\]]+)\]$/);if(I){let z=I[1],p=C=>{let F=C.replace(/\s*,\s*/g,",");return F=F.replace(/\s+/g,"_"),F};return[{label:`${z}[${$.toString({format:"hex"})}]`},{label:`${z}[rgb(${Math.round(f*255)},${Math.round(O*255)},${Math.round(W*255)})]`},{label:`${z}[rgba(${Math.round(f*255)},${Math.round(O*255)},${Math.round(W*255)},${j})]`},{label:`${z}[${p($.to("hsl").toString({format:"hsl"}))}]`},{label:`${z}[${p($.to("hwb").toString({format:"hwb"}))}]`},{label:`${z}[${p($.to("lch").toString({format:"lch"}))}]`},{label:`${z}[${p($.to("oklch").toString({format:"oklch"}))}]`},{label:`${z}[${p($.to("lab").toString({format:"lab"}))}]`},{label:`${z}[${p($.to("oklab").toString({format:"oklab"}))}]`}].map(C=>({...C,range:{startLineNumber:a.range.startLineNumber,startColumn:K,endLineNumber:a.range.endLineNumber,endColumn:k}}))}}}}return[{label:$.toString({format:"hex"})},{label:`rgb(${Math.round(f*255)}, ${Math.round(O*255)}, ${Math.round(W*255)})`},{label:`rgba(${Math.round(f*255)}, ${Math.round(O*255)}, ${Math.round(W*255)}, ${j})`},{label:$.to("hsl").toString({format:"hsl"})},{label:$.to("hwb").toString({format:"hwb"})},{label:$.to("lch").toString({format:"lch"})},{label:$.to("oklch").toString({format:"oklch"})},{label:$.to("lab").toString({format:"lab"})},{label:$.to("oklab").toString({format:"oklab"})}]},async provideDocumentColors(s){let a=[],f=[],O=s.getValue(),W=new Set,j=p=>/\[([#].+|rgb.+|rgba.+|hsl.+|hsla.+|lch.+|oklch.+|lab.+|oklab.+|hwb.+|color-mix.+)\]/.test(p),$=p=>`windpress-color-decoration-${new Ee("srgb",[p.red,p.green,p.blue],p.alpha).toString({format:"hex"}).replace("#","")}`,E=(p,C,F,X)=>{let ne=`${C}-${F}`;if(!W.has(ne))try{let me=p.replace(/\/\*[^*]*\*+(?:[^/*][^*]*\*+)*\//g,"").trim();if(me.startsWith("color-mix("))return;let ge=new Ee(me).to("srgb"),[ie,Y,se]=ge.coords,oe=s.getPositionAt(C),Ie=s.getPositionAt(F),Le={red:Math.max(0,Math.min(1,ie??0)),green:Math.max(0,Math.min(1,Y??0)),blue:Math.max(0,Math.min(1,se??0)),alpha:ge.alpha??1},lt={startLineNumber:oe.lineNumber,startColumn:oe.column,endLineNumber:Ie.lineNumber,endColumn:Ie.column};if(X)a.push({color:Le,range:lt});else{let Ae=$(Le),Wt=new Ee("srgb",[Le.red,Le.green,Le.blue],Le.alpha).toString({format:"hex"});Q.has(Ae)||(P||(P=document.createElement("style"),P.setAttribute("data-windpress-colors","true"),document.head.appendChild(P)),Q.add(Ae),P.textContent+=`.${Ae} { background-color: ${Wt}; }
`),f.push({range:lt,options:{before:{content:"\xA0",inlineClassName:`${Ae} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}W.add(ne)}catch(me){console.warn("Invalid color format:",p,me)}},{designSystem:le,variablesList:ye}=await ue();if(!le||!ye)return a;let J=/@apply\s+([^;}]+)/g,Z;for(;(Z=J.exec(O))!==null;){let p=Z[1],C=p.split(/\s+/).filter(Boolean);for(let F of C)try{let X=j(F),ne=await Ve(le,[F]);if(ne&&ne.length>0){let me=ne.join(`
`),ge=null;if(X){let ie=me.match(/(background-color|color|border-color|fill|stroke|border-top-color|border-right-color|border-bottom-color|border-left-color):\s*([^;]+)/);if(ie){let Y=ie[2].trim();!Y.startsWith("var(")&&!Y.includes("transparent")&&Y!=="currentColor"&&(ge=Y)}}else{let ie=me.match(/var\((--[^)]*color[^)]*)\)/);if(ie){let Y=ie[1],se=ye.find(oe=>oe.key===Y);se&&se.value&&(ge=se.value)}}if(ge){let ie=Z.index+Z[0].indexOf(p),Y=0,se=-1;for(let oe of C){for(;Y<p.length&&/\s/.test(p[Y]);)Y++;if(oe===F){se=Y;break}Y+=oe.length}if(se!==-1){let oe=ie+se,Ie=oe+F.length;E(ge,oe,Ie,X)}}}}catch(X){console.warn("Error processing class for color preview:",F,X)}}let pe=/@theme\s*\{([^}]*)\}/gs,S;for(;(S=pe.exec(O))!==null;){let p=S[1],C=S.index+S[0].indexOf("{")+1,F=/--color-(?!\*)[^:]+:\s*([^;]+);/g,X;for(;(X=F.exec(p))!==null;){let ne=X[0],me=X[1].trim(),ge=X.index,ie=ne.indexOf(":"),Y=ne.substring(ie+1).search(/\S/),se=ge+ie+1+Y,oe=C+se,Ie=oe+me.length;E(me,oe,Ie,!0)}}let x=[/\b(oklch|oklab|lch|lab)\(([^)]*(?!\bvar\b|\benv\b|\bcalc\b)[^)]*)\)/gi],y=[],K=/@theme\s*\{([^}]*)\}/gs,k;for(;(k=K.exec(O))!==null;){let p=k.index,C=k.index+k[0].length;y.push({start:p,end:C})}let I=/@apply\s+([^;}]+)/g,z;for(;(z=I.exec(O))!==null;){let p=z.index,C=z.index+z[0].length;y.push({start:p,end:C})}if(x.forEach(p=>{let C;for(;(C=p.exec(O))!==null;)C[0].includes("var(")||C[0].includes("env(")||C[0].includes("calc(")||y.some(F=>C.index>=F.start&&C.index+C[0].length<=F.end)||E(C[0],C.index,C.index+C[0].length,!0);p.lastIndex=0}),f.length>0){let p=s.__windpressColorDecorations||[];s.__windpressColorDecorations=s.deltaDecorations(p,f)}return a}})},100),window.__windpressMonacoInstantiated=!0),R()}w.value.push(c.editor.addEditorAction({id:"windpress-save-"+Date.now(),label:wp.i18n.__("Save","windpress"),keybindings:[c.KeyMod.CtrlCmd|c.KeyCode.KeyS],run:()=>{T("save")}}))}return Ut(()=>{if(w.value.forEach(l=>{try{l.dispose()}catch(c){console.warn("Error disposing Monaco disposable:",c)}}),w.value=[],P&&(P=(P.remove(),null)),Q.clear(),L.value){let l=L.value.getModel();l&&l.__windpressColorDecorations&&(l.deltaDecorations(l.__windpressColorDecorations,[]),delete l.__windpressColorDecorations)}}),(l,c)=>{let V=gt,r=ft,H=Se,ve=oi,ue=St,be=Gt("vue-monaco-editor"),ee=_t;return g(),A(ee,{id:"explorer-2",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:v(()=>{var D;return[m(ue,{title:(D=l.entry)==null?void 0:D.relative_path,toggle:!1,ui:{title:"text-sm"}},{leading:v(()=>[m(r,{text:l.i18n.__("Close","windpress")},{default:v(()=>[m(V,{icon:"i-lucide-x",color:"neutral",variant:"ghost",class:"-ms-1.5",onClick:c[0]||(c[0]=N=>T("close"))})]),_:1},8,["text"])]),title:v(()=>{var N,q,M,R,G;return[m(H,{name:`vscode-icons:file-type-${((N=l.entry)==null?void 0:N.relative_path)==="main.css"?"tailwind":n(Ue.default).extname(((q=l.entry)==null?void 0:q.relative_path)??"").replace(".","")}`,class:"size-5"},null,8,["name"]),Te(" "+we((M=l.entry)==null?void 0:M.relative_path)+" ",1),U.entry.readonly?(g(),A(ve,{key:0,label:l.i18n.__("read-only","windpress"),color:"warning",variant:"outline"},null,8,["label"])):ce("",!0),(R=l.entry)!=null&&R.path_on_disk?(g(),A(r,{key:1,text:`${l.i18n.__("Path on disk","windpress")}: ${(G=l.entry)==null?void 0:G.path_on_disk}`},{default:v(()=>{var s;return[he("span",He,[c[7]||(c[7]=Te(" [ ",-1)),m(H,{name:"i-lucide-hard-drive",class:"inline-block align-middle me-1"}),Te(" "+we((s=l.entry)==null?void 0:s.path_on_disk)+" ] ",1)])]}),_:1},8,["text"])):ce("",!0)]}),right:v(()=>{var N,q,M,R,G,s,a;return[((N=l.entry)==null?void 0:N.relative_path)!=="main.css"&&!(Number(n(_).virtualOptions("general.tailwindcss.version",4).value)===3&&(((q=l.entry)==null?void 0:q.relative_path)==="tailwind.config.js"||((M=l.entry)==null?void 0:M.relative_path)==="wizard.js"))?(g(),A(r,{key:0,text:l.i18n.__("Delete","windpress")},{default:v(()=>[m(V,{icon:"i-lucide-trash",color:"neutral",variant:"ghost",onClick:c[1]||(c[1]=f=>T("delete",l.entry))})]),_:1},8,["text"])):ce("",!0),((R=l.entry)==null?void 0:R.relative_path)==="main.css"||((G=l.entry)==null?void 0:G.relative_path)==="wizard.css"||Number(n(_).virtualOptions("general.tailwindcss.version",4).value)===3&&(((s=l.entry)==null?void 0:s.relative_path)==="tailwind.config.js"||((a=l.entry)==null?void 0:a.relative_path)==="wizard.js")?(g(),A(r,{key:1,text:l.i18n.__("Reset to default","windpress")},{default:v(()=>[m(V,{icon:"lucide:file-minus-2",color:"neutral",variant:"ghost",onClick:c[2]||(c[2]=f=>T("reset",l.entry))})]),_:1},8,["text"])):ce("",!0),m(r,{text:l.i18n.__("Save","windpress")},{default:v(()=>[m(V,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:c[3]||(c[3]=f=>T("save"))})]),_:1},8,["text"])]}),_:1},8,["title"]),he("div",Ge,[m(ut,{"enter-active-class":"transition-all duration-500 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"scale-50 opacity-0 translate-y-4","enter-to-class":"scale-100 opacity-100 translate-y-0","leave-from-class":"scale-100 opacity-100 translate-y-0","leave-to-class":"scale-50 opacity-0 translate-y-4"},{default:v(()=>[u.value.hasErrors?(g(),ae("div",Je,[m(ut,{"enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-200 ease-in","enter-from-class":"scale-75 opacity-0","enter-to-class":"scale-100 opacity-100","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-75 opacity-0",mode:"out-in"},{default:v(()=>{var N,q,M;return[de.value?(g(),ae("div",Ye,[he("div",Ze,[m(H,{name:"lucide:alert-triangle",class:"size-4 text-error mt-0.5 flex-shrink-0"}),he("div",Xe,[he("div",Qe,[he("p",et,we(l.i18n.__("CSS Validation Error","windpress")),1),m(V,{variant:"ghost",size:"xs",icon:"i-lucide-x",color:"neutral",onClick:c[5]||(c[5]=R=>de.value=!1)})]),he("p",tt,we((N=u.value.errors[0])==null?void 0:N.message),1),(q=u.value.errors[0])!=null&&q.line?(g(),ae("div",it,we(l.i18n.__("Line","windpress"))+" "+we(u.value.errors[0].line)+we((M=u.value.errors[0])!=null&&M.column?`, ${l.i18n.__("Column","windpress")} ${u.value.errors[0].column}`:""),1)):ce("",!0)])])])):(g(),ae("div",{key:"icon",class:"bg-(--ui-bg)/30 backdrop-blur-md border border-error/20 rounded-lg p-3 shadow-xl hover:scale-110 transition-transform origin-bottom-left cursor-pointer",onClick:c[4]||(c[4]=R=>de.value=!0)},[m(H,{name:"lucide:alert-triangle",class:"size-4 text-error flex-shrink-0"})]))]}),_:1})])):ce("",!0)]),_:1}),m(be,{value:U.entry.content,"onUpdate:value":c[6]||(c[6]=N=>U.entry.content=N),language:U.entry.relative_path.endsWith(".css")?"css":"javascript",saveViewState:!1,options:{...d,readOnly:U.entry.readonly},onMount:i,theme:n(b)==="dark"?"vs-dark":"vs"},null,8,["value","language","options","theme"])])]}),_:1})}}}),rt={key:1,class:"hidden lg:flex flex-1 items-center justify-center"},kt=Fe({__name:"File",setup(e){let o=qe(),t=fi(),_=Oe(null),b=ze({get(){return!!o.activeViewEntryRelativePath},set(T){T||(o.activeViewEntryRelativePath=null)}}),re=ze(()=>o.data.entries.find(T=>T.relative_path===o.activeViewEntryRelativePath)||(console.error(wp.i18n.__("Entry not found: ","windpress"),o.activeViewEntryRelativePath),o.activeViewEntryRelativePath="main.css",o.data.entries.find(T=>T.relative_path===o.activeViewEntryRelativePath))),U=ai(ni).smaller("lg");return(T,d)=>{let L=Si,h=gt,w=ft,P=St,Q=_t,u=Se,de=pi;return g(),ae($e,null,[m(Q,{id:"explorer-1","default-size":25,"min-size":20,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:v(()=>[m(P,{title:T.i18n.__("Explorer","windpress"),class:"text-sm"},{leading:v(()=>[m(L)]),right:v(()=>[m(w,{"delay-duration":0,text:T.i18n.__("Add new file","windpress")},{default:v(()=>[m(h,{color:"primary",variant:"subtle",icon:"i-lucide-plus",onClick:d[0]||(d[0]=i=>n(t).addNewFile())})]),_:1},8,["text"]),m(w,{"delay-duration":0,text:T.i18n.__("Export SFS volume","windpress")},{default:v(()=>[m(h,{color:"neutral",variant:"outline",icon:"i-lucide-download",onClick:d[1]||(d[1]=i=>n(t).exportVolume())})]),_:1},8,["text"]),m(w,{"delay-duration":0,text:T.i18n.__("Import SFS volume","windpress")},{default:v(()=>[m(h,{color:"neutral",variant:"outline",icon:"i-lucide-upload",onClick:d[2]||(d[2]=i=>{var l;return(l=_.value)==null?void 0:l.click()})}),he("input",{ref_key:"importFileField",ref:_,type:"file",onChange:d[3]||(d[3]=(...i)=>n(t).importVolume&&n(t).importVolume(...i)),style:{display:"none"},accept:".windpress"},null,544)]),_:1},8,["text"])]),_:1},8,["title"]),m(je,{onRename:d[4]||(d[4]=i=>n(t).renameFile(i)),onDelete:d[5]||(d[5]=i=>n(t).deleteFile(i)),onReset:d[6]||(d[6]=i=>n(t).resetFile(i))})]),_:1}),n(o).activeViewEntryRelativePath?(g(),A(at,{key:0,onClose:d[7]||(d[7]=i=>n(o).activeViewEntryRelativePath=null),entry:re.value,onDelete:d[8]||(d[8]=i=>n(t).deleteFile(i)),onSave:d[9]||(d[9]=i=>n(t).save()),onReset:d[10]||(d[10]=i=>n(t).resetFile(i))},null,8,["entry"])):(g(),ae("div",rt,[m(u,{name:"lucide:file-pen",class:"size-32 text-(--ui-text-dimmed)"})])),n(U)?(g(),A(de,{key:2,open:b.value,"onUpdate:open":d[11]||(d[11]=i=>b.value=i)},{content:v(()=>[m(je)]),_:1},8,["open"])):ce("",!0)],64)}}})});export{ki as __tla,kt as default};
