import{_ as S,a as W}from"./DashboardNavbar-DXSWh3Yi.min.js";import{d as O,a as T,k as G,j as K,l as U,o as F,_ as J,y as V}from"./dashboard-CEnqINPm.js";import{_ as q}from"./DashboardSidebarCollapse-C_KWklt9.min.js";import{u as D,a as Y}from"./useFileAction-Dq9ba1SJ.js";import{m as B,h as z}from"./adobe-css-tools-Dbp5S5wp.min.js";import{I as R,J as L,K as f,L as h,R as l,V as w,P as g,U as H,T as I,E as N,Y as Q,W as X,M as Z,ah as ee,F as te,ag as ie}from"./runtime-core.esm-bundler-DMu1kCtd.min.js";import"./index-DxctxtAm.min.js";import"./isObject-K1YoVIH1.min.js";import"./preload-helper-DuwVgReH.min.js";import"./index-L8AGAgXa.min.js";import"./source-map-generator-BtPqY3n1.min.js";import"./runtime-dom.esm-bundler-ByCVmWq5.min.js";import"./worker-DDhkXTHJ.js";import"./index-D0q3SLgE.min.js";import"./index-BAMY2Nnw.min.js";import"./index.browser-B0na17u1.min.js";import"./redaxios.module-TFmBaLRL.min.js";import"./index-CA_h055Z.min.js";import"./get-mawGjo0c.min.js";import"./_toKey-BwG29BdO.min.js";import"./chunk-HTB5LLOP-Cay67bh1.min.js";import"./floating-ui.core-D4p8F-F6.min.js";import"./virtualRef-RE6J1pA_.js";import"./set-CZrLKuYB.min.js";import"./_initCloneObject-DhZa6hP3.min.js";import"./package-BtTmAzXr.min.js";import"./fuse-Dw8P0qyA.min.js";import"./vfs-Cwv6plEt.js";import"./dayjs.min-B0xr3lT9.min.js";import"./index-Cinwu51z.min.js";import"./index-bXyjzgw5.min.js";import"./index-rQLcFmgX.min.js";import"./FormField-CDGBmCO4.min.js";const b={color:{supportsNesting:!0},text:{supportsNesting:!0},font:{supportsNesting:!0,excludePatterns:["weight"]},spacing:{supportsNesting:!0},breakpoint:{supportsNesting:!0}},p={INITIAL_MARKER:"--*",SPACING_MULTIPLIER:"--spacing"};function P(s,i,r){let t=s;for(let n=0;n<i.length-1;n++){const a=i[n];if(!t[a])t[a]={};else if(typeof t[a]=="string"){const o=t[a];t[a]={$value:o}}t=t[a]}const e=i[i.length-1];t[e]&&typeof t[e]=="object"&&t[e].$value===void 0||t[e]&&typeof t[e]=="object"&&t[e].$value!==void 0?t[e].$value=r:t[e]=r}function _(s,i){const r=[];for(const[t,e]of Object.entries(s))if(typeof e=="string")e&&e.trim()!==""&&r.push({property:`--${i}-${t}`,value:e});else if(typeof e=="object"&&e!==null){const n=e;if("$value"in n&&typeof n.$value=="string"){n.$value&&n.$value.trim()!==""&&r.push({property:`--${i}-${t}`,value:n.$value});const a={...n};if(delete a.$value,Object.keys(a).length>0){const o=_(a,`${i}-${t}`);r.push(...o)}}else{const a=_(e,`${i}-${t}`);r.push(...a)}}return r}function v(s,i,r){const t=s.findIndex(e=>e.property===i);if(!r||r.trim()===""){t!==-1&&s.splice(t,1);return}t!==-1?s[t].value=r:s.push({type:"declaration",property:i,value:r})}function se(s,i){var t;const r=b[s];return!r||!("excludePatterns"in r)?!1:((t=r.excludePatterns)==null?void 0:t.some(e=>i.startsWith(e)))??!1}function E(){return{namespaces:{color:{},text:{},font:{},spacing:{},breakpoint:{}}}}function re(s){var r;const i=E();i.source=s;try{const t=B(s);if(i.ast=t,(r=t.stylesheet)==null?void 0:r.rules){for(const e of t.stylesheet.rules)if(e.type==="rule"&&e.selectors){const n=e.selectors.find(a=>a.startsWith("@theme"));if(n){if(n==="@theme static"&&(i.isStatic=!0),e.declarations)for(const a of e.declarations)a.type==="declaration"&&a.property.startsWith("--")&&ae(i,a.property,a.value);break}}}}catch(t){console.error("Error parsing CSS:",t)}return i}function ae(s,i,r){if(i===p.INITIAL_MARKER&&r==="initial"){s.isInitial=!0;return}if(i===p.SPACING_MULTIPLIER){s.spacing=r;return}const t=i.match(/^--([^-]+)-(.+)$/);if(!t)return;const[,e,n]=t;if(e in b&&!se(e,n))if(e==="breakpoint"){const a=n.split("-");P(s.namespaces.breakpoint,a,r)}else{const a=n.split("-");P(s.namespaces[e],a,r)}}function $(s,i){const{namespaces:r}=s;Object.entries(r).forEach(([t,e])=>{!e||Object.keys(e).length===0||_(e,t).forEach(({property:n,value:a})=>{v(i,n,a)})})}function ne(s){try{return s.ast?oe(s):le(s)}catch(i){return console.error("Error stringifying theme:",i),""}}function oe(s){var r;const i=JSON.parse(JSON.stringify(s.ast));if((r=i.stylesheet)!=null&&r.rules){for(const t of i.stylesheet.rules)if(t.type==="rule"&&t.selectors&&t.selectors.find(e=>e.startsWith("@theme"))){t.selectors=[s.isStatic?"@theme static":"@theme"];const e=[...t.declarations||[]];s.isInitial?v(e,p.INITIAL_MARKER,"initial"):v(e,p.INITIAL_MARKER,""),s.spacing?v(e,p.SPACING_MULTIPLIER,s.spacing):v(e,p.SPACING_MULTIPLIER,""),$(s,e);const n=new Set;s.isInitial&&n.add(p.INITIAL_MARKER),s.spacing&&n.add(p.SPACING_MULTIPLIER),Object.entries(s.namespaces).forEach(([o,c])=>{c&&Object.keys(c).length>0&&_(c,o).forEach(({property:y})=>{n.add(y)})});const a=e.filter(o=>{if(o.type==="declaration"&&(!o.value||o.value.trim()===""))return!1;if(o.type!=="declaration"||!o.property.startsWith("--"))return!0;const c=o.property.match(/^--([^-]+)-/);return c&&c[1]in b?n.has(o.property):n.has(o.property)||!c});t.declarations=a;break}}return z(i)}function le(s){const i=[];s.isInitial&&i.push({type:"declaration",property:p.INITIAL_MARKER,value:"initial"}),s.spacing&&i.push({type:"declaration",property:p.SPACING_MULTIPLIER,value:s.spacing}),$(s,i);const r=i.filter(e=>e.value&&e.value.trim()!==""),t={type:"stylesheet",stylesheet:{rules:[{type:"rule",selectors:[s.isStatic?"@theme static":"@theme"],declarations:r}]}};return z(t)}function ce(){return{getDefaultTheme:E,parseWizardFile:re,stringifyTheme:ne}}const pe={class:"flex flex-col items-center justify-center h-full p-8 text-center"},ue={class:"max-w-md mx-auto"},me={class:"text-2xl font-bold text-highlighted mb-4"},de={class:"text-dimmed mb-6 leading-relaxed"},fe={class:"space-y-4"},he={class:"text-sm text-dimmed"},ve=R({__name:"VersionRequirement",setup(s){return(i,r)=>{const t=O,e=T,n=G,a=S;return I(),L(a,{class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:f(()=>[h("div",pe,[h("div",ue,[l(t,{name:"lucide:info",class:"size-16 text-primary mx-auto mb-6"}),h("h2",me,w(g(wp.i18n.__)("Tailwind CSS v4 Required","windpress")),1),h("p",de,w(g(wp.i18n.__)("The Wizard feature is only available when using Tailwind CSS version 4. Please switch to Tailwind CSS v4 in your settings to access this feature.","windpress")),1),h("div",fe,[l(e,{label:g(wp.i18n.__)("Go to Settings","windpress"),color:"primary",icon:"lucide:settings",to:{name:"settings.general"}},null,8,["label"]),h("div",he,[l(n,{to:"https://wind.press/docs/guide/configuration/tailwind-version",target:"_blank",class:"underline hover:no-underline"},{default:f(()=>[H(w(g(wp.i18n.__)("Learn more about Tailwind version configuration","windpress")),1)]),_:1})])])])])]),_:1})}}}),ye=R({__name:"Wizard",setup(s){const i=D(),r=Y(),t=ce(),e=U(),n=K(),a=N(t.getDefaultTheme());ie("theme",a);const o=Q(()=>n.virtualOptions("general.tailwindcss.version",4).value===4);X(async()=>{var u;if(await Promise.all([i.initPull(),n.initPull()]),o.value){let m=((u=i.data.entries.find(d=>d.relative_path==="wizard.css"))==null?void 0:u.content)||"";m.includes("@theme")||(m+=`
@theme {

}`),a.value=t.parseWizardFile(m)}});function c(){const u=t.stringifyTheme(a.value),m=i.data.entries.find(d=>d.relative_path==="wizard.css");m?m.content=u:i.data.entries.push({name:"wizard.css",relative_path:"wizard.css",content:u,handler:"internal"}),r.save()}const y=N([[{label:wp.i18n.__("Namespaces","windpress"),type:"label"},{label:wp.i18n.__("Screens","windpress"),icon:"lucide:monitor-smartphone",to:e.resolve({name:"wizard.screens"})},{label:wp.i18n.__("Spacing","windpress"),icon:"lucide:align-horizontal-space-around",to:e.resolve({name:"wizard.spacing"})},{label:wp.i18n.__("Typography","windpress"),icon:"lucide:a-large-small",to:e.resolve({name:"wizard.typography"})},{label:wp.i18n.__("Colors","windpress"),icon:"lucide:swatch-book",to:e.resolve({name:"wizard.colors"})}],[{label:wp.i18n.__("Theme Configuration","windpress"),type:"label"},{label:wp.i18n.__("Theme Settings","windpress"),icon:"lucide:settings",to:e.resolve({name:"wizard.theme"})}]]);return F((u,m,d)=>{o.value&&c(),d()}),(u,m)=>{const d=q,A=T,k=J,C=W,x=V,M=S,j=ee("RouterView");return o.value?(I(),Z(te,{key:1},[l(M,{id:"wizard-1","default-size":20,"min-size":15,"max-size":30,resizable:"",class:"min-h-[calc(100svh-var(--wp-admin--admin-bar--height))]"},{default:f(()=>[l(C,{title:u.i18n.__("Wizard","windpress"),class:"text-sm"},{leading:f(()=>[l(d)]),right:f(()=>[l(k,{text:u.i18n.__("Save the changes to wizard.css file","windpress")},{default:f(()=>[l(A,{icon:"i-lucide-save",color:"primary",variant:"subtle",onClick:c})]),_:1},8,["text"])]),_:1},8,["title"]),l(x,{items:y.value[1],orientation:"vertical",class:"my-2"},null,8,["items"]),l(x,{items:y.value[0],orientation:"vertical"},null,8,["items"])]),_:1}),l(j)],64)):(I(),L(ve,{key:0}))}}});export{ye as default};
